{"version":3,"file":"js/app.884375ee.js","mappings":"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","sources":["webpack://vue-project/./src/App.vue","webpack://vue-project/./src/App.vue?7ccd","webpack://vue-project/./src/views/HomePage.vue","webpack://vue-project/./src/components/GameDisplayView.vue","webpack://vue-project/./src/components/GameDisplayView.vue?3a11","webpack://vue-project/./src/views/HomePage.vue?150d","webpack://vue-project/./src/views/ChessGame.vue","webpack://vue-project/./src/components/KeyboardComp.vue","webpack://vue-project/./src/components/PieceComp.vue","webpack://vue-project/./src/components/PieceComp.vue?8f1b","webpack://vue-project/./src/components/KeyboardComp.vue?57d1","webpack://vue-project/./src/components/ChessGameHeader.vue","webpack://vue-project/./src/components/ChessGameHeader.vue?1543","webpack://vue-project/./src/components/ButtomBar.vue","webpack://vue-project/./src/components/ButtomBar.vue?8c47","webpack://vue-project/./src/components/GameResultPannel.vue","webpack://vue-project/./src/components/GameResultPannel.vue?3779","webpack://vue-project/./src/components/LayoutInfoBar.vue","webpack://vue-project/./src/components/LayoutInfoBar.vue?b63c","webpack://vue-project/./src/assets/js/chess/chessClasses.js","webpack://vue-project/./src/assets/js/generalClasses/timeFormat.js","webpack://vue-project/./src/components/ChessGameConfig.vue","webpack://vue-project/./src/components/MessageWindow.vue","webpack://vue-project/./src/components/MessageWindow.vue?1a39","webpack://vue-project/./src/components/ChessGameConfig.vue?26d3","webpack://vue-project/./src/views/ChessGame.vue?273d","webpack://vue-project/./src/views/TypeingGame.vue","webpack://vue-project/./src/views/TypeingGame.vue?f30f","webpack://vue-project/./src/views/MineSweep.vue","webpack://vue-project/./src/assets/js/mineSweep/mineSweep.js","webpack://vue-project/./src/components/MineSweepBoard.vue","webpack://vue-project/./src/components/MineSweepBoard.vue?c88e","webpack://vue-project/./src/views/MineSweep.vue?ed86","webpack://vue-project/./src/views/BoxPhysics.vue","webpack://vue-project/./src/assets/js/boxPhysics/boxes.js","webpack://vue-project/./src/assets/js/boxPhysics/boxPhysics.js","webpack://vue-project/./src/views/BoxPhysics.vue?a7a2","webpack://vue-project/./src/views/MultiplayerChess.vue","webpack://vue-project/./src/components/ChessBottomBar.vue","webpack://vue-project/./src/components/ChessBottomBar.vue?dca6","webpack://vue-project/./src/components/ChatBox.vue","webpack://vue-project/./src/components/ChatBox.vue?e375","webpack://vue-project/./src/views/MultiplayerChess.vue?f497","webpack://vue-project/./src/router/index.js","webpack://vue-project/./src/main.js","webpack://vue-project/webpack/bootstrap","webpack://vue-project/webpack/runtime/chunk loaded","webpack://vue-project/webpack/runtime/compat get default export","webpack://vue-project/webpack/runtime/define property getters","webpack://vue-project/webpack/runtime/global","webpack://vue-project/webpack/runtime/hasOwnProperty shorthand","webpack://vue-project/webpack/runtime/make namespace object","webpack://vue-project/webpack/runtime/jsonp chunk loading","webpack://vue-project/webpack/startup"],"sourcesContent":["<template>\n  <nav id=\"navBar\">\n    <router-link to=\"/\">Home</router-link>\n    <router-link to=\"/ChessGame\">Chess</router-link>\n    <router-link to=\"/TypingGame\">Typing</router-link>\n    <router-link to=\"/MineSweep\">Mine Sweep</router-link>\n    <router-link to=\"/BoxPhysics\">Box Physics</router-link>\n    <router-link to=\"/MultiplayerChess\">Multiplayer Chess</router-link>\n    <!-- <router-link to=\"/ChatBox\">Chat Box</router-link> -->\n  </nav>\n  <router-view v-slot=\"{ Component }\">\n    <keep-alive>\n      <component :is=\"Component\" />\n    </keep-alive>\n  </router-view>\n</template>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n}\n\nnav {\n  padding: 30px;\n}\n\nnav a {\n  font-weight: bold;\n  color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n  color: #42b983;\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=398c8759\"\nconst script = {}\n\nimport \"./App.vue?vue&type=style&index=0&id=398c8759&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"gameViewsWrapper\">\r\n    <GameDisplayView\r\n    v-for=\"(game, idx) in games\"\r\n    :key=\"idx\"\r\n    :title=\"game.title\"\r\n    :image-src=\"game.imageSrc\"\r\n    :click-function=\"startGame\"\r\n    />\r\n  </div>\r\n</template>\r\n<script>\r\nimport GameDisplayView from '@/components/GameDisplayView.vue'\r\n\r\nexport default {\r\n  name: 'HomePage',\r\n  components: {\r\n    GameDisplayView\r\n  },\r\n  data () {\r\n    return {\r\n      games: [\r\n        {\r\n          title: 'Chess',\r\n          imageSrc: [\r\n            '/imgs/chess01.png',\r\n            '/imgs/chess02.png',\r\n            '/imgs/chess03.png'\r\n          ]\r\n        },\r\n        {\r\n          title: 'Typing',\r\n          imageSrc: '/imgs/TypingGame.jpg'\r\n        },\r\n        {\r\n          title: 'MineSweep',\r\n          imageSrc: '/imgs/MineSweep.jpg'\r\n        },\r\n        {\r\n          title: 'BoxPhysics',\r\n          imageSrc: [\r\n            '/imgs/boxPhysics01.jpg',\r\n            '/imgs/boxPhysics02.jpg',\r\n            '/imgs/boxPhysics03.jpg',\r\n            '/imgs/boxPhysics04.jpg'\r\n          ]\r\n        },\r\n        {\r\n          title: 'MultiplayerChess',\r\n          imageSrc: [\r\n            '/imgs/multiplayerChess01.png',\r\n            '/imgs/multiplayerChess02.png'\r\n          ]\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    startGame (title) {\r\n      let path\r\n      switch (title) {\r\n        case 'Chess':\r\n          path = '/ChessGame'\r\n          break\r\n        case 'Typing':\r\n          path = '/TypingGame'\r\n          break\r\n        case 'MineSweep':\r\n          path = '/MineSweep'\r\n          break\r\n        case 'BoxPhysics':\r\n          path = '/BoxPhysics'\r\n          break\r\n        case 'MultiplayerChess':\r\n          path = '/MultiplayerChess'\r\n          break\r\n        default:\r\n          path = '/'\r\n      }\r\n      this.$router.push(path)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"gameDisplayBlock\">\r\n    <h1 class=\"blockHeader\">{{  title }}</h1>\r\n    <div class=\"blockImageWrapper\">\r\n      <img :src=\"imagePath\" :alt=\"title\">\r\n    </div>\r\n    <div class=\"blockButtonWrapper\">\r\n      <div class=\"button\" @click=\"clickFunction(title)\">start</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport '../assets/styles/gameDisplayView.css'\r\n\r\nexport default {\r\n  name: 'GameDisplay',\r\n  props: ['title', 'imageSrc', 'clickFunction'],\r\n  data () {\r\n    return {\r\n      imagePath: '',\r\n      arrLen: 0,\r\n      currIdx: 0,\r\n      updateImgInterval: null\r\n    }\r\n  },\r\n  created () {\r\n    if (typeof this.imageSrc === 'string') {\r\n      this.imagePath = this.imageSrc\r\n    }\r\n    if (Array.isArray(this.imageSrc)) {\r\n      this.imagePath = this.imageSrc[0]\r\n      this.arrLen = this.imageSrc.length\r\n      this.updateImgInterval = setInterval(() => {\r\n        this.currIdx++\r\n        this.currIdx %= this.arrLen\r\n        this.imagePath = this.imageSrc[this.currIdx]\r\n      }, 4000)\r\n    }\r\n  },\r\n  beforeUnmount () {\r\n    clearInterval(this.updateImgInterval)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./GameDisplayView.vue?vue&type=template&id=e7a1ec12\"\nimport script from \"./GameDisplayView.vue?vue&type=script&lang=js\"\nexport * from \"./GameDisplayView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomePage.vue?vue&type=template&id=30607cf8\"\nimport script from \"./HomePage.vue?vue&type=script&lang=js\"\nexport * from \"./HomePage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"contentWrapper\">\r\n    <div id=\"content\">\r\n      <LayoutInfoBar\r\n      :currLayout=\"currLayout\"\r\n      :chessLayouts=\"chessLayouts\"\r\n      :optLayout=\"optLayout\"\r\n      :deleteSavedGame=\"deleteSavedGame\"\r\n      />\r\n      <ChessGameHeader\r\n      v-model=\"chess.currSide\"\r\n      :chess=\"chess\"\r\n      @shiftTextQueue=\"shiftTextQueue\"\r\n      @undoHistory=\"updateCheckmatePiece\"\r\n      :auth=\"{undo:true, textQueue:true}\"\r\n      />\r\n      <KeyboardComp\r\n      @keyboardBlocksLoaded=\"LoadKeyboardBlocks\"\r\n      :WIDTH=\"8\"\r\n      :HEIGHT=\"8\"\r\n      :KEYBOARD=\"chess.keyboard\"\r\n      :clickBlock=\"clickBlcok\"\r\n      @mouseDown=\"mouseDown\"\r\n      @mouseUp=\"mouseUp\"\r\n      :imgsObj=\"\r\n        {\r\n        whitepawn: '/imgs/chess/whitePawn.png',\r\n        whiterook: '/imgs/chess/whiteRook.png',\r\n        whiteknight: '/imgs/chess/whiteKnight.png',\r\n        whitebishop: '/imgs/chess/whiteBishop.png',\r\n        whitequeen: '/imgs/chess/whiteQueen.png',\r\n        whiteking: '/imgs/chess/whiteKing.png',\r\n        blackpawn: '/imgs/chess/blackPawn.png',\r\n        blackrook: '/imgs/chess/blackRook.png',\r\n        blackknight: '/imgs/chess/blackKnight.png',\r\n        blackbishop: '/imgs/chess/blackBishop.png',\r\n        blackqueen: '/imgs/chess/blackQueen.png',\r\n        blackking: '/imgs/chess/blackKing.png'\r\n      }\r\n      \"\r\n      />\r\n      <ButtomBar\r\n      :restart=\"restart\"\r\n      :exit=\"exit\"\r\n      />\r\n      <button id=\"openConfigureGamePannel\" class=\"button\" :onclick=\"toggleConfigPannel\">\r\n        {{ showConfigurePannel ? 'close configrue game pannel' : 'open configure game pannel'  }}\r\n      </button>\r\n    </div>\r\n    <GameResultPannel\r\n    v-if=\"showResultPannel\"\r\n    :gameResults=\"gameResults\"\r\n    />\r\n    <ChessGameConfig\r\n    :saveGame=\"saveGame\"\r\n    v-if=\"showConfigurePannel\"\r\n    />\r\n\r\n  </div>\r\n  <MessageWindow\r\n  v-show=\"showMessage\"\r\n  :messageType=\"'regular'\"\r\n  :message=\"'new game saved to local hard disk!'\"\r\n  :showMessage=\"showMessage\"\r\n  />\r\n</template>\r\n<script>\r\nimport KeyboardComp from '@/components/KeyboardComp.vue'\r\nimport ChessGameHeader from '@/components/ChessGameHeader.vue'\r\nimport ButtomBar from '@/components/ButtomBar.vue'\r\nimport GameResultPannel from '@/components/GameResultPannel.vue'\r\nimport LayoutInfoBar from '@/components/LayoutInfoBar.vue'\r\nimport chessLayouts from '@/assets/js/chess/chessLayouts.json'\r\nimport { Chess } from '@/assets/js/chess/chessClasses.js'\r\nimport { TimeFormat } from '@/assets/js/generalClasses/timeFormat'\r\nimport axios from 'axios'\r\nimport ChessGameConfig from '@/components/ChessGameConfig.vue'\r\nimport MessageWindow from '@/components/MessageWindow.vue'\r\nimport { setTimeout } from 'core-js'\r\n\r\nexport default {\r\n  name: 'ChessGame',\r\n  components: {\r\n    KeyboardComp,\r\n    ChessGameHeader,\r\n    ButtomBar,\r\n    GameResultPannel,\r\n    LayoutInfoBar,\r\n    ChessGameConfig,\r\n    MessageWindow\r\n  },\r\n  data () {\r\n    return {\r\n      chess: new Chess(),\r\n      KEY_BOARD_BLOCKS: [],\r\n      chessLayouts: [],\r\n      currLayout: {},\r\n      gameResults: {\r\n        time: 0,\r\n        winner: 'unknown'\r\n      },\r\n      showResultPannel: false,\r\n      showConfigurePannel: false,\r\n      showMessage: false,\r\n\r\n      checkmatePiece: null,\r\n      checkmateCoor: null,\r\n\r\n      coorToMove: null\r\n    }\r\n  },\r\n  watch: {\r\n    checkmatePiece (newVal, oldVal) {\r\n      // console.log(newVal, oldVal)\r\n      if (newVal === oldVal) return\r\n      /**\r\n       * update the check mate effect according to the new checkmate piece\r\n       */\r\n      if (newVal === null) {\r\n        const [r, c] = this.checkmateCoor\r\n        const div = document.getElementById(r + ',' + c)\r\n        div.classList.remove('warning')\r\n        this.checkmateCoor = null\r\n      } else {\r\n        this.checkmateCoor = this.checkmatePiece.coordinate\r\n        const [r, c] = this.checkmateCoor\r\n        const div = document.getElementById(r + ',' + c)\r\n        div.classList.add('warning')\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    // console.log('chess game is mounted')\r\n    this.chessLayouts = chessLayouts\r\n    if (this.chess.status === 'pending') {\r\n      this.currLayout = this.chessLayouts[0]\r\n      // add the saved games to the available layouts\r\n      this.getSavedGames()\r\n      this.chess.initChessGame(this.currLayout)\r\n    }\r\n    // console.log('chess game is inititalized')\r\n  },\r\n  methods: {\r\n    LoadKeyboardBlocks (KEY_BOARD_BLOCKS) {\r\n      this.KEY_BOARD_BLOCKS = KEY_BOARD_BLOCKS\r\n    },\r\n    clickBlcok (coor) {\r\n      if (this.chess.status === 'ended') return\r\n      const [row, col] = coor\r\n      const keyboard = this.chess.keyboard\r\n      const currPiece = this.chess.currPiece\r\n      const piece = keyboard[row][col]\r\n      if (currPiece != null && currPiece.side !== this.chess.currSide) {\r\n        // console.log(`the current side is not ${currPiece.side}`)\r\n        this.chess.textQueue.push(`the current side is not ${currPiece.side}`)\r\n        this.removeHighLight(currPiece)\r\n        this.chess.currPiece = null\r\n      } else if (currPiece == null && piece == null) {\r\n        // console.log('void click')\r\n      } else if (currPiece == null && piece != null) {\r\n        // console.log('the player want to select a piece')\r\n        this.addHighLight(piece)\r\n        this.chess.currPiece = piece\r\n      } else if (currPiece != null && piece == null) {\r\n        // console.log('the player want to move the piece')\r\n        // make chess move\r\n        if (this.chess.makeChessMove([[this.chess.currPiece, coor]])) {\r\n          this.chess.currPiece = null\r\n        }\r\n      } else if (currPiece != null && piece != null) {\r\n        // console.log('the player want to select a second piece')\r\n        if (currPiece === piece) {\r\n          // console.log('the two selected pieces are the same')\r\n          this.removeHighLight(this.chess.currPiece)\r\n          this.chess.currPiece = null\r\n        } else if (currPiece.side === piece.side) {\r\n          // console.log('the two selected piece are of the same side')\r\n          this.removeHighLight(this.chess.currPiece)\r\n          this.chess.currPiece = piece\r\n          this.addHighLight(this.chess.currPiece)\r\n        } else if (this.chess.makeChessMove([[this.chess.currPiece, coor]])) {\r\n          // make a chess move\r\n          this.chess.currPiece = null\r\n        }\r\n      }\r\n\r\n      setTimeout(() => {\r\n        /*\r\n        update the checkmate peice inorder to assign the checkmate effect (red warning background color)\r\n        */\r\n        this.updateCheckmatePiece()\r\n\r\n        /**\r\n         * the game is ended, generate and display the result\r\n         */\r\n        if (this.chess.status === 'ended') {\r\n          this.showResultPannel = true\r\n          this.generateResults()\r\n        }\r\n      }, 100)\r\n    },\r\n    addHighLight (piece) {\r\n      const [row, col] = piece.coordinate\r\n      const pieceElement = this.KEY_BOARD_BLOCKS[row][col].firstElementChild\r\n      if (pieceElement !== undefined) {\r\n        pieceElement.classList.add('highlighted')\r\n      }\r\n    },\r\n    removeHighLight (piece) {\r\n      const [row, col] = piece.coordinate\r\n      const pieceElement = this.KEY_BOARD_BLOCKS[row][col].firstElementChild\r\n      if (pieceElement) {\r\n        pieceElement.classList.remove('highlighted')\r\n      }\r\n    },\r\n    updateCheckmatePiece () {\r\n      this.checkmatePiece = this.chess.checkmatePiece\r\n    },\r\n    exit () {\r\n      this.$router.push('/HomePage')\r\n    },\r\n    restart () {\r\n      this.showResultPannel = false\r\n      this.chess.initChessGame(this.currLayout)\r\n      this.updateCheckmatePiece()\r\n    },\r\n    optLayout (idx) {\r\n      this.showL = false\r\n      this.currLayout = this.chessLayouts[idx]\r\n      this.restart()\r\n    },\r\n    shiftTextQueue (textQueue) {\r\n      textQueue.shift()\r\n    },\r\n    generateResults () {\r\n      this.gameResults.time = TimeFormat.formatBySecond(this.chess.gameTime)\r\n      this.gameResults.winner = this.chess.winner + ' side'\r\n    },\r\n    async saveGame (n, s, d) {\r\n      // console.log('start saving game to local hardisk')\r\n      const l = this.generateLayout()\r\n      await axios.post('http://localhost:3000/saveChessGame', {\r\n        name: n,\r\n        side: s,\r\n        difficulty: d,\r\n        layout: l\r\n      })\r\n        .then(res => {\r\n          console.log('game saved successfully!')\r\n        })\r\n      // console.log('game saved to local hard disk, disyplay the message window')\r\n      this.showMessage = true\r\n      setTimeout(() => {\r\n        this.showMessage = false\r\n      }, 2000)\r\n      // console.log('configure pannel will close now')\r\n      this.toggleConfigPannel()\r\n      // console.log('layout pannel updating')\r\n      this.getSavedGames()\r\n    },\r\n    async getSavedGames () {\r\n      await axios.get('http://localhost:3000/getChessGame')\r\n        .then(res => {\r\n          console.log('saved games uploaded')\r\n          this.chessLayouts = res.data.reverse().concat(chessLayouts)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    generateLayout () {\r\n      const layout = []\r\n      const keyboard = this.chess.keyboard\r\n      for (let r = 0; r < keyboard.length; r++) {\r\n        for (let c = 0; c < keyboard[r].length; c++) {\r\n          const piece = keyboard[r][c]\r\n          if (piece != null) {\r\n            const tmp = [\r\n              piece.side,\r\n              piece.coordinate,\r\n              piece.name\r\n            ]\r\n            layout.push(tmp)\r\n          }\r\n        }\r\n      }\r\n      return layout\r\n    },\r\n    toggleConfigPannel () {\r\n      this.showConfigurePannel = !this.showConfigurePannel\r\n    },\r\n    deleteSavedGame (idx) {\r\n      // console.log(idx)\r\n      const gameName = this.chessLayouts[idx].name\r\n      axios.delete('http://localhost:3000/delChessGame', {\r\n        data: { gameName }\r\n      })\r\n        .then(res => {\r\n          console.log('game deleted')\r\n          this.chessLayouts.splice(idx, 1)\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n    },\r\n    mouseDown (coor) {\r\n      // console.log(coor)\r\n      this.coorToMove = coor\r\n    },\r\n    mouseUp (coor) {\r\n      if (coor[0] === this.coorToMove[0] && coor[1] === this.coorToMove[1]) return\r\n      // console.log(this.coorToMove)\r\n      this.clickBlcok(this.coorToMove)\r\n      this.clickBlcok(coor)\r\n      this.coorToMove = null\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n    <div id=\"keyboardFrame\">\r\n      <div class=\"row\" v-for=\"(row, rowIdx) in KEYBOARD\" :key=\"rowIdx\">\r\n        <div\r\n        :id=\"rowIdx + ',' + colIdx\"\r\n        v-for=\"(block, colIdx) in row\"\r\n        :key=\"rowIdx + ',' + colIdx\"\r\n        :class=\"(rowIdx + colIdx) % 2 == 0 ? 'whiteBlock' : 'blackBlock'\"\r\n        :style=\"{\r\n          'width': BLOCK_WIDTH + 'rem',\r\n          'height':BLOCK_HEIGHT + 'rem'\r\n        }\"\r\n        @click=\"clickBlock([rowIdx, colIdx])\"\r\n        @mousedown=\"$emit('mouseDown', [rowIdx, colIdx])\"\r\n        @mouseup=\"$emit('mouseUp', [rowIdx, colIdx])\"\r\n        @dragstart=\"(event) => event.preventDefault()\"\r\n        >\r\n          <PieceComp\r\n          v-if=\"KEYBOARD[rowIdx][colIdx] != null\"\r\n          :type=\"KEYBOARD[rowIdx][colIdx].type\"\r\n          :side=\"KEYBOARD[rowIdx][colIdx].side\"\r\n          :imgSrc=\"imgsObj[(\r\n            KEYBOARD[rowIdx][colIdx].side +\r\n            KEYBOARD[rowIdx][colIdx].name\r\n          )]\"\r\n          />\r\n          <!-- :imgSrc=\"imgsObj[(\r\n            (side in KEYBOARD[rowIdx][colIdx] ? KEYBOARD[rowIdx][colIdx].side : '') +\r\n            (name in KEYBOARD[rowIdx][colIdx] ? KEYBOARD[rowIdx][colIdx].name : '')\r\n          )]\" -->\r\n          <div class=\"rowIdx\" v-if=\"colIdx == KEYBOARD[0].length-1\">\r\n            {{ rowIdx+1 }}\r\n          </div>\r\n          <div class=\"colIdx\" v-if=\"rowIdx == 0\">\r\n            {{ String.fromCharCode((KEYBOARD[0].length-colIdx-1)+65) }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { nextTick } from 'vue'\r\nimport PieceComp from './PieceComp.vue'\r\n\r\nexport default {\r\n  name: 'KeyboardComp',\r\n  components: {\r\n    PieceComp\r\n  },\r\n  props: ['WIDTH', 'HEIGHT', 'KEYBOARD', 'clickBlock', 'imgsObj'],\r\n  data () {\r\n    return {\r\n      BLOCK_WIDTH: 5,\r\n      BLOCK_HEIGHT: 5,\r\n      KEY_BOARD_BLOCKS: [],\r\n      currPiece: null\r\n    }\r\n  },\r\n  mounted () {\r\n    nextTick(() => {\r\n      this.initKeyboardBlocks()\r\n    })\r\n  },\r\n  methods: {\r\n    initKeyboardBlocks () {\r\n      for (let rowIdx = 0; rowIdx < this.HEIGHT; rowIdx++) {\r\n        this.KEY_BOARD_BLOCKS.push([])\r\n        for (let colIdx = 0; colIdx < this.WIDTH; colIdx++) {\r\n          const ID = rowIdx + ',' + colIdx\r\n          const BLOCK = document.getElementById(ID)\r\n          this.KEY_BOARD_BLOCKS[rowIdx].push(BLOCK)\r\n        }\r\n      }\r\n      this.$emit('keyboardBlocksLoaded', this.KEY_BOARD_BLOCKS)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <!-- <div :class=\"'piece ' + (side == 'white' ? 'whitePiece' : 'blackPiece') + ' ' + type\">{{type}}</div> -->\r\n\r\n  <div :class=\"'piece ' + (side == 'white' ? 'whitePiece' : 'blackPiece') + ' ' + type\">\r\n    <div class=\"imgWrapper\">\r\n      <img :src=\"imgSrc\">\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'PieceComp',\r\n  props: ['type', 'side', 'imgSrc']\r\n}\r\n</script>\r\n","import { render } from \"./PieceComp.vue?vue&type=template&id=718c3a9c\"\nimport script from \"./PieceComp.vue?vue&type=script&lang=js\"\nexport * from \"./PieceComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./KeyboardComp.vue?vue&type=template&id=53b40a78\"\nimport script from \"./KeyboardComp.vue?vue&type=script&lang=js\"\nexport * from \"./KeyboardComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"contentHeader\">\r\n    <div id=\"turnSign\">\r\n      <p id=\"whiteTurnSign\" :class=\"currSide == 'white' ? 'turnSignHighlighted' : ''\"></p>\r\n      <p id=\"blackTurnSign\" :class=\"currSide == 'white' ? '' : 'turnSignHighlighted'\"></p>\r\n    </div>\r\n    <div id=\"undo\" class=\"button\" @click=\"undoHistory\" v-if=\"auth.undo\">undo</div>\r\n    <div id=\"textBox\" v-if=\"auth.textQueue\">\r\n      <div v-for=\"(content, idx) in chess.textQueue\" :key=\"idx\">\r\n        {{ content }}\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ChessGameHeader',\r\n  props: ['modelValue', 'chess', 'auth'],\r\n  computed: {\r\n    currSide: {\r\n      get () {\r\n        return this.modelValue\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.textInterval = setInterval(() => {\r\n      this.removeText()\r\n    }, 2000)\r\n  },\r\n  methods: {\r\n    removeText () {\r\n      if (this.chess.textQueue.length > 1) {\r\n        this.$emit('shiftTextQueue', this.chess.textQueue)\r\n      }\r\n    },\r\n    undoHistory () {\r\n      this.chess.undoHistory()\r\n      this.$emit('undoHistory')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ChessGameHeader.vue?vue&type=template&id=f326a7d8\"\nimport script from \"./ChessGameHeader.vue?vue&type=script&lang=js\"\nexport * from \"./ChessGameHeader.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div id=\"buttonWrapper\">\r\n        <button id=\"restart\" class=\"button\" @click=\"restart\">restart</button>\r\n        <button id=\"exit\" class=\"button\" @click=\"exit\">exit</button>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'ButtomBar',\r\n  props: ['restart', 'exit']\r\n}\r\n</script>\r\n","import { render } from \"./ButtomBar.vue?vue&type=template&id=3fde09c2\"\nimport script from \"./ButtomBar.vue?vue&type=script&lang=js\"\nexport * from \"./ButtomBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div id=\"resultPannel\">\r\n        <div\r\n        v-for=\"(value, key, idx) in gameResults\"\r\n        :key=\"idx\">{{ key + \": \" + value }}</div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'GameResultPannel',\r\n  props: ['gameResults']\r\n}\r\n</script>\r\n","import { render } from \"./GameResultPannel.vue?vue&type=template&id=5cc362cc\"\nimport script from \"./GameResultPannel.vue?vue&type=script&lang=js\"\nexport * from \"./GameResultPannel.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"layoutInfoBar\">\r\n    <div>name: {{ currLayout.name }}</div>\r\n    <div>difficulty: {{ currLayout.difficulty }}</div>\r\n    <div class=\"button\" @click=\"showLayoutOptions = !showLayoutOptions\">layouts</div>\r\n    <div class=\"layoutList\" v-show=\"showLayoutOptions\">\r\n      <div class=\"layout\" v-for=\"(layout, idx) in chessLayouts\" :key=\"idx\">\r\n        <div class=\"layoutInfos\" @click=\"showLayoutOptions = false; optLayout(idx)\">\r\n          <div>name: {{ layout.name }}</div>\r\n          <div>difficulty: {{ layout.difficulty }}</div>\r\n          <div>starting side: {{ layout.side }}</div>\r\n        </div>\r\n        <button @click=\"() => {deleteLayout(idx)}\">delete</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: 'LayoutInfoBar',\r\n  props: ['currLayout', 'chessLayouts', 'optLayout', 'deleteSavedGame'],\r\n  data () {\r\n    return {\r\n      showLayoutOptions: false\r\n    }\r\n  },\r\n  methods: {\r\n    deleteLayout (idx) {\r\n      this.deleteSavedGame(idx)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import { render } from \"./LayoutInfoBar.vue?vue&type=template&id=7c182268\"\nimport script from \"./LayoutInfoBar.vue?vue&type=script&lang=js\"\nexport * from \"./LayoutInfoBar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","/* eslint-disable eqeqeq */\r\n\r\nclass Chess {\r\n    KEYBOARD_WIDTH = 8\r\n    KEYBOARD_HEIGHT = 8\r\n    keyboard = []\r\n    currSide = 'white'\r\n    currPiece = null\r\n    whiteKing = null\r\n    blackKing = null\r\n    history = []\r\n    moveRecord = []\r\n    checkmatePiece = null\r\n    status = 'pending'\r\n    gameTime = 0\r\n    winner = null\r\n    timeInterval = null\r\n    textQueue = []\r\n\r\n    initKeyboard () {\r\n      this.keyboard.length = 0 // clear the keyboard without changing its reference\r\n      for (let i = 0; i < this.KEYBOARD_HEIGHT; i++) {\r\n        this.keyboard.push(Array(this.KEYBOARD_WIDTH).fill(null))\r\n      }\r\n    }\r\n\r\n    initChessGame (opening) {\r\n      // console.log('initialize logical keyboard')\r\n      this.initKeyboard()\r\n      // console.log('logical keyboard initalized')\r\n      this.currSide = opening.side\r\n      this.currPiece = null\r\n      this.whiteKing = null\r\n      this.blackKing = null\r\n      this.history = []\r\n      this.moveRecord = []\r\n      this.checkmatePiece = null\r\n      this.status = 'ongoing'\r\n      this.gameTime = 0\r\n      this.winner = null\r\n      clearInterval(this.timeInterval)\r\n      this.timeInterval = setInterval(() => {\r\n        this.gameTime += 1\r\n      }, 1000)\r\n      this.textQueue = []\r\n      opening.layout.forEach(piece => {\r\n        this.addPiece(...piece)\r\n      })\r\n      this.status = 'ongoing'\r\n    }\r\n\r\n    addPiece (side = 'white', coordinate = [0, 0], type = 'pawn') {\r\n      const piece = Piece.generatePiece(side, coordinate, type)\r\n      if (type == 'king') {\r\n        if (side == 'white') {\r\n          if (this.whiteKing) this.removeFromKeyboard(this.whiteKing)\r\n          this.whiteKing = piece\r\n        }\r\n        if (side == 'black') {\r\n          if (this.blackKing) this.removeFromKeyboard(this.blackKing)\r\n          this.blackKing = piece\r\n        }\r\n      }\r\n      this.addToKeyboard(piece)\r\n    }\r\n\r\n    addToKeyboard (piece) {\r\n      const [row, col] = piece.coordinate\r\n      this.keyboard[row][col] = piece\r\n    }\r\n\r\n    removeFromKeyboard (piece) {\r\n      const [row, col] = piece.coordinate\r\n      if (this.keyboard[row][col] == piece) {\r\n        this.keyboard[row][col] = null\r\n      }\r\n    }\r\n\r\n    makeChessMove (moves) {\r\n      // console.log(moves[0][0].coordinate[0], moves[0][0].coordinate[1], moves[0][1][0], moves[0][1][1])\r\n      this.textQueue.length = 0\r\n      if (this.status === 'ended') return\r\n      // single move\r\n      if (moves.length == 1) {\r\n        const [piece, coordinate] = moves[0]\r\n        const result = piece.checkMove(coordinate, this)\r\n        if (Array.isArray(result)) {\r\n          return this[result[0]](...result.slice(1))\r\n        } else if (result == true) {\r\n          // console.log('the move follows the rule of chess')\r\n          // this.addText('the move follows the rule of chess')\r\n        } else {\r\n          // console.log('the move does not follow the rule of chess')\r\n          this.addText('the move does not follow the rule of chess')\r\n          return false\r\n        }\r\n      }\r\n\r\n      // composite move\r\n      const moveLen = moves.length\r\n      this.moveRecord.push(moveLen)\r\n      for (let idx = 0; idx < moveLen; idx++) {\r\n        const [piece, coordinate] = moves[idx]\r\n        this.loadMove(piece, coordinate)\r\n      }\r\n\r\n      // console.log('load move complete, start checking')\r\n      if (this.varifyMoveByCheckmate(moves[moves.length - 1])) {\r\n        // console.log('move completed')\r\n        this.changeSide()\r\n        return true\r\n      } else {\r\n        // console.log('move rejected, start to undo history')\r\n        this.undoHistory()\r\n        // console.log('undo history completed')\r\n        return false\r\n      }\r\n    }\r\n\r\n    loadMove (piece, newCoordinate) {\r\n      this.addHistory(piece, newCoordinate)\r\n      this.removeFromKeyboard(piece)\r\n      piece.coordinate = newCoordinate\r\n      this.updateIfMoved(piece)\r\n      this.addToKeyboard(piece)\r\n    }\r\n\r\n    updateIfMoved (piece) {\r\n      if (piece.moved == false) piece.moved = true\r\n    }\r\n\r\n    changeSide () {\r\n      this.currSide = this.currSide == 'white' ? 'black' : 'white'\r\n    }\r\n\r\n    promotion (piece) {\r\n      // console.log('enter promotion', piece)\r\n      let target\r\n      do {\r\n        target = prompt('enter knight/bishop/rook/queen')\r\n      }\r\n      while (['knight', 'bishop', 'rook', 'queen'].indexOf(target) == -1)\r\n      setTimeout(() => { // the settimeout is quite necessary, let me explain.\r\n        /*\r\n        the reason the setTimeout is necessary is because it will not make the calls from call stack to wait, so by the time the 100ms timeout,\r\n        everything below promotion() in the call stack will finished executing, and the pawn will be already\r\n        moved to the new position of the keyboard it intended but without being actually promoted (the pawn stay as pawn)\r\n        eventually, about 100ms after the pawn moved, the logic below will execute and swap the pawn into the actual piece for the intended promotion.\r\n        */\r\n        if (this.currSide != piece.side) { // the side is changed, so the piece did get moved to the new position\r\n          const coordinate = piece.coordinate\r\n          const side = piece.side\r\n          this.removeFromKeyboard(piece)\r\n          this.addPiece(side, coordinate, target)\r\n          this.changeSide() // change back to the side before, and varify if check mate with the promted peice\r\n          this.varifyMoveByCheckmate()\r\n          this.changeSide() // change the side back\r\n        }\r\n      }, 100)\r\n    }\r\n\r\n    castling (king, rook) {\r\n      const [kRow, kCol] = king.coordinate\r\n      const [rRow, rCol] = rook.coordinate\r\n\r\n      const kingStep = (rCol - kCol) / Math.abs(rCol - kCol)\r\n      const rookStep = -kingStep\r\n      const compositeMove = [[king, [kRow, rCol - kingStep]], [rook, [rRow, rCol + 2 * rookStep]]]\r\n      return this.makeChessMove(compositeMove)\r\n    }\r\n\r\n    // zero usage\r\n    checkmateChecker (king, piece, newCoordinate) {\r\n      if (piece == null || newCoordinate == null) return\r\n      // console.log(\"this function(checkmate checker) is checking for checkmate in the new move\")\r\n      // console.log(`checkmate checking for ${king.side} king`)\r\n      let result = false\r\n      const [kRow, kCol] = king.coordinate\r\n      const [pRow, pCol] = piece.coordinate\r\n\r\n      if (king.side != piece.side) {\r\n        if (piece.checkMove(king.coordinate, this)) {\r\n          // console.log(\"it is a checkmate directly caused by the new move\")\r\n          result = true\r\n        }\r\n      } else if (king != piece) {\r\n        const rowDiff = Math.abs(kRow - pRow)\r\n        const colDiff = Math.abs(kCol - pCol)\r\n        if (rowDiff == colDiff) {\r\n          // console.log(\"it could be a checkmate indirectly caused by the new move, and the threat can come from queen/bishop\")\r\n          const rowStep = (pRow - kRow) / Math.abs(pRow - kRow)\r\n          const colStep = (pCol - kCol) / Math.abs(pCol - kCol)\r\n          const target = this.searchByStep(king.coordinate, rowStep, colStep)\r\n          if (target != null && target.side != king.side && ['queen', 'bishop'].includes(target.type)) {\r\n            // console.log(`checkmate confirmed for ${king.side} king!`)\r\n            result = true\r\n          }\r\n        }\r\n        if ((rowDiff > 0 && colDiff == 0) || (rowDiff == 0 && colDiff > 0)) {\r\n          // console.log(\"it could be a checkmate indirectly caused by the new move, and the threat can come from queen/rook\")\r\n          let rowStep = 0\r\n          let colStep = 0\r\n          if (kRow == pRow) {\r\n            colStep = (pCol - kCol) / Math.abs(pCol - kCol)\r\n          }\r\n          if (kCol == pCol) {\r\n            rowStep = (pRow - kRow) / Math.abs(pRow - kRow)\r\n          }\r\n          const target = this.searchByStep(king.coordinate, rowStep, colStep)\r\n          if (target != null && target.side != king.side && ['queen', 'bishop'].includes(target.type)) {\r\n            // console.log(`checkmate confirmed for ${king.side} king!`)\r\n            result = true\r\n          }\r\n        }\r\n      } else if (king == piece) {\r\n        result = this.checkIfInDanger(king) != null\r\n      }\r\n      return result\r\n    }\r\n\r\n    searchStraightPath (start, end) {\r\n      const [sRow, sCol] = start\r\n      const [eRow, eCol] = end\r\n      let rowIdx = sRow\r\n      let rowStep = 0\r\n      let colIdx = sCol\r\n      let colStep = 0\r\n      let target = null\r\n      if (sRow == eRow) {\r\n        colStep = (eCol - sCol) / Math.abs(eCol - sCol)\r\n      }\r\n      if (sCol == eCol) {\r\n        rowStep = (eRow - sRow) / Math.abs(eRow - sRow)\r\n      }\r\n      do {\r\n        rowIdx += rowStep\r\n        colIdx += colStep\r\n        if (rowIdx < 0 || rowIdx > this.KEYBOARD_HEIGHT - 1) break\r\n        if (colIdx < 0 || colIdx > this.KEYBOARD_WIDTH - 1) break\r\n        target = this.keyboard[rowIdx][colIdx]\r\n      }\r\n      while (target == null && (rowIdx != eRow || colIdx != eCol))\r\n      return target\r\n    }\r\n\r\n    searchDiagnalPath (start, end) {\r\n      const [sRow, sCol] = start\r\n      const [eRow, eCol] = end\r\n      let rowIdx = sRow\r\n      const rowStep = (eRow - sRow) / Math.abs(eRow - sRow)\r\n      let colIdx = sCol\r\n      const colStep = (eCol - sCol) / Math.abs(eCol - sCol)\r\n      let target\r\n      do {\r\n        rowIdx += rowStep\r\n        colIdx += colStep\r\n        if (rowIdx < 0 || rowIdx > this.KEYBOARD_HEIGHT - 1) break\r\n        if (colIdx < 0 || colIdx > this.KEYBOARD_WIDTH - 1) break\r\n        target = this.keyboard[rowIdx][colIdx]\r\n      }\r\n      while (target == null && rowIdx != eRow && colIdx != eCol)\r\n      return target\r\n    }\r\n\r\n    searchByStep (start, rowStep, colStep) {\r\n      if (start == null || rowStep == null || colStep == null) return\r\n      let [rowIdx, colIdx] = start\r\n      let target\r\n      do {\r\n        rowIdx += rowStep\r\n        colIdx += colStep\r\n        if (rowIdx < 0 || rowIdx > this.KEYBOARD_HEIGHT - 1) break\r\n        if (colIdx < 0 || colIdx > this.KEYBOARD_WIDTH - 1) break\r\n        target = this.keyboard[rowIdx][colIdx]\r\n      }\r\n      while (target == null)\r\n      return target\r\n    }\r\n\r\n    checkIfInDanger (piece) {\r\n      let steps\r\n\r\n      steps = [[1, -1], [1, 1], [-1, 1], [-1, -1]]\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        const [rowStep, colStep] = steps[idx]\r\n        const target = this.searchByStep(piece.coordinate, rowStep, colStep)\r\n        if (target != null && target.side != piece.side && ['queen', 'bishop'].includes(target.type)) {\r\n          // console.log(\"the checkmate is confirmed and is directly caused by the new move\")\r\n          return target\r\n        }\r\n        if (\r\n          target != null && target.side != piece.side &&\r\n          target.type == 'pawn' &&\r\n          // target.checkMove(piece.coordinate, this) // i want to check to see if the move is valid, but i don't want to invoke the promotion because its just checking if\r\n          // the piece is a thread/danger. I am not actually moving the piece\r\n          target.checkMoveWithoutInvokePromotion(piece.coordinate, this)\r\n        ) {\r\n          return target\r\n        }\r\n      }\r\n\r\n      steps = [[0, -1], [0, 1], [-1, 0], [1, 0]]\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        const [rowStep, colStep] = steps[idx]\r\n        const target = this.searchByStep(piece.coordinate, rowStep, colStep)\r\n        if (target != null && target.side != piece.side && ['queen', 'rook'].includes(target.type)) {\r\n          // console.log(\"the checkmate is confirmed and is directly caused by the new move\")\r\n          return target\r\n        }\r\n      }\r\n\r\n      steps = [[1, 2], [1, -2], [-1, 2], [-1, -2], [2, 1], [-2, 1], [2, -1], [-2, -1]]\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        const [row, col] = piece.coordinate\r\n        const rowIdx = row + steps[idx][0]\r\n        const colIdx = col + steps[idx][1]\r\n        if (rowIdx < 0 || rowIdx > this.KEYBOARD_HEIGHT - 1) continue\r\n        if (colIdx < 0 || colIdx > this.KEYBOARD_WIDTH - 1) continue\r\n        const target = this.keyboard[rowIdx][colIdx]\r\n        if (target != null && target.side != piece.side && target.type == 'knight') {\r\n          // console.log(\"the checkmate is confirmed and is directly caused by the new move\")\r\n          return target\r\n        }\r\n      }\r\n\r\n      steps = [[1, -1], [1, 1], [-1, 1], [-1, -1], [0, -1], [0, 1], [-1, 0], [1, 0]]\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        const [row, col] = piece.coordinate\r\n        const rowIdx = row + steps[idx][0]\r\n        const colIdx = col + steps[idx][1]\r\n        if (rowIdx < 0 || rowIdx > this.KEYBOARD_HEIGHT - 1) continue\r\n        if (colIdx < 0 || colIdx > this.KEYBOARD_WIDTH - 1) continue\r\n        const target = this.keyboard[rowIdx][colIdx]\r\n        if (target != null && target.side != piece.side && target.type == 'king') {\r\n          // console.log(\"the checkmate is confirmed and is directly caused by the new move\")\r\n          return target\r\n        }\r\n      }\r\n\r\n      return null\r\n    }\r\n\r\n    addHistory (piece, newCoordinate) {\r\n      // console.log('history added')\r\n      const [nRow, nCol] = newCoordinate\r\n\r\n      const tempPiece = piece\r\n      const tempCoor = piece.coordinate\r\n      const tempPiece2 = this.keyboard[nRow][nCol]\r\n      const tempCoor2 = newCoordinate\r\n      const currSide = this.currSide\r\n      const tempMoved = piece.moved\r\n      const currCheckmatePiece = this.checkmatePiece\r\n      this.history.push([tempPiece, tempCoor, tempMoved, tempPiece2, tempCoor2, currSide, currCheckmatePiece])\r\n    }\r\n\r\n    undoHistory () {\r\n      // console.log('history undoing')\r\n      if (this.status === 'ended') return\r\n\r\n      if (this.moveRecord.length > 0) {\r\n        const count = this.moveRecord.pop()\r\n\r\n        for (let idx = 0; idx < count; idx++) {\r\n          const [piece, coordinate, moved, piece2, coordinate2, currSide, currCheckmatePiece] = this.history.pop()\r\n          this.removeFromKeyboard(piece)\r\n          piece.coordinate = coordinate\r\n          piece.moved = moved\r\n          this.addToKeyboard(piece)\r\n\r\n          const [row2, col2] = coordinate2\r\n          this.keyboard[row2][col2] = piece2\r\n\r\n          this.currSide = currSide\r\n          this.checkmatePiece = currCheckmatePiece\r\n        }\r\n      }\r\n    }\r\n\r\n    updateCheckmatePiece (king) {\r\n      // console.log(king)\r\n      this.checkmatePiece = king\r\n    }\r\n\r\n    varifyMoveByCheckmate () {\r\n      // console.log('varifyMoveByCheckmate')\r\n      let result = true\r\n\r\n      const king = this.currSide == 'white' ? this.whiteKing : this.blackKing\r\n      if (this.checkIfInDanger(king) != null) {\r\n        if (this.checkmatePiece == null) {\r\n          // console.log('this move lead to self checkmate, move denied')\r\n          this.addText('this move lead to self checkmate, move denied')\r\n        } else if (this.checkmatePiece != null) {\r\n          // console.log('the move did not resolve the current checkmate, move denied')\r\n          this.addText('the move did not resolve the current checkmate, move denied')\r\n        }\r\n        result = false\r\n      } else if (this.checkmatePiece != null) {\r\n        // console.log('the move did resolved the current checkmate')\r\n        this.addText('the move did resolved the current checkmate')\r\n        this.updateCheckmatePiece(null)\r\n      }\r\n      if (result == true) {\r\n        // console.log('start checking checkmate')\r\n        const oppisiteKing = this.currSide == 'white' ? this.blackKing : this.whiteKing\r\n        const result = this.checkIfInDanger(oppisiteKing)\r\n        if (result != null) {\r\n          // console.log(`checkmate the ${oppisiteKing.side} king!`)\r\n          this.addText(`checkmate the ${oppisiteKing.side} king!`)\r\n          this.updateCheckmatePiece(oppisiteKing)\r\n          if (this.ifGameOverIfCheckmate(oppisiteKing)) {\r\n            this.winner = this.currSide\r\n            this.endGame()\r\n          }\r\n        }\r\n      }\r\n      return result\r\n    }\r\n\r\n    ifGameOverIfCheckmate (king) {\r\n      let result = true\r\n      const danger = this.checkIfInDanger(king)\r\n      const helper = this.checkIfInDanger(danger)\r\n      // console.log('start to resolving the threat')\r\n      this.addText('start to resolving the threat')\r\n\r\n      if (helper == null || helper == king) {\r\n        // console.log('no helper to kill the threat, continue resolving the threat')\r\n        this.addText('no helper to kill the threat, continue resolving the threat')\r\n\r\n        const steps = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 1], [1, -1], [1, 0], [1, 1]]\r\n        for (let idx = 0; idx < steps.length; idx++) {\r\n          const [rowStep, colStep] = steps[idx]\r\n          let [row, col] = king.coordinate\r\n          row += rowStep\r\n          col += colStep\r\n          if (row < 0 || row > this.KEYBOARD_HEIGHT - 1) continue\r\n          if (col < 0 || col > this.KEYBOARD_WIDTH - 1) continue\r\n          const surrounding = this.keyboard[row][col]\r\n          if (surrounding == null || surrounding.side != king.side) {\r\n            this.moveRecord.push(1)\r\n            this.loadMove(king, [row, col])\r\n            result &&= this.checkIfInDanger(king) != null\r\n            this.undoHistory()\r\n          }\r\n          if (result == false) {\r\n            // console.log('the threat can be resolved by moving the king')\r\n            this.addText('the threat can be resolved by moving the king')\r\n            break\r\n          }\r\n        }\r\n\r\n        if (result == true) {\r\n          // console.log('king cannot be moved, continue resolving the threat')\r\n          this.addText('king cannot be moved, continue resolving the threat')\r\n          if (['knight', 'pawn'].includes(danger.type)) {\r\n            // console.log('the threat cannot be resolved by moving a piece in between the king and the threat')\r\n            this.addText('the threat cannot be resolved by moving a piece in between the king and the threat')\r\n            // console.log(`game over, ${king.side} side lost`)\r\n            this.addText(`game over, ${king.side} side lost`)\r\n          } else {\r\n            const [kRow, kCol] = king.coordinate\r\n            const [pRow, pCol] = danger.coordinate\r\n            let rowStep = 0\r\n            let colStep = 0\r\n            if (pRow != kRow) {\r\n              rowStep = (pRow - kRow) / Math.abs(pRow - kRow)\r\n            }\r\n            if (pCol != kCol) {\r\n              colStep = (pCol - kCol) / Math.abs(pCol - kCol)\r\n            }\r\n            let rowIdx = kRow\r\n            let colIdx = kCol\r\n            while (rowIdx + rowStep != pRow || colIdx + colStep != pCol) {\r\n              rowIdx += rowStep\r\n              colIdx += colStep\r\n              const target = this.checkIfSideCanMoveToCoor(king.side, [rowIdx, colIdx])\r\n              if (target && target.type != 'king') {\r\n                // console.log('the threat can be resolved by moving the piece in between king and the threat')\r\n                this.addText('the threat can be resolved by moving the piece in between king and the threat')\r\n                // console.log(`use ${target.type} at ${target.coordinate}`)\r\n                this.addText(`use ${target.type} at ${target.coordinate}`)\r\n                result = false\r\n                break\r\n              }\r\n            }\r\n            if (result == true) {\r\n              // console.log('no piece can be moved in between the threat and the king')\r\n              this.addText('no piece can be moved in between the threat and the king')\r\n              // console.log(`game over, ${king.side} side lost`)\r\n              this.addText(`game over, ${king.side} side lost`)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        // console.log('the threat can be resolved by eating the threat')\r\n        this.addText('the threat can be resolved by eating the threat')\r\n        // console.log(`use ${helper.type} at ${helper.coordinate}`)\r\n        this.addText(`use ${helper.type} at ${helper.coordinate}`)\r\n        result = false\r\n      }\r\n      return result\r\n    }\r\n\r\n    checkIfSideCanMoveToCoor (side, coordinate) {\r\n      const keyboard = this.keyboard\r\n      for (let row = 0; row < keyboard.length; row++) {\r\n        for (let col = 0; col < keyboard[row].length; col++) {\r\n          const target = keyboard[row][col]\r\n          if (\r\n            target &&\r\n            target.side == side &&\r\n            target.type != 'king' &&\r\n            target.checkMove(coordinate, this)\r\n          ) return target\r\n        }\r\n      }\r\n      return null\r\n    }\r\n\r\n    endGame () {\r\n      console.log('game ended')\r\n      this.status = 'ended'\r\n      clearInterval(this.timeInterval)\r\n    }\r\n\r\n    addText (text) {\r\n      this.textQueue.push(text)\r\n    }\r\n}\r\n\r\nclass Piece {\r\n    side = 'white'\r\n    coordinate = [0, 0]\r\n    type = 'pawn'\r\n    constructor (side = 'white', coordinate = [0, 0], type) {\r\n      this.side = side\r\n      this.coordinate = coordinate\r\n      this.type = type\r\n    }\r\n\r\n    static generatePiece (side = 'white', coordinate = [0, 0], type = 'pawn') {\r\n      let piece\r\n      switch (type) {\r\n        case 'pawn':\r\n          piece = new Pawn(side, coordinate)\r\n          break\r\n        case 'knight':\r\n          piece = new Knight(side, coordinate)\r\n          break\r\n        case 'bishop':\r\n          piece = new Bishop(side, coordinate)\r\n          break\r\n        case 'rook':\r\n          piece = new Rook(side, coordinate)\r\n          break\r\n        case 'king':\r\n          piece = new King(side, coordinate)\r\n          break\r\n        case 'queen':\r\n          piece = new Queen(side, coordinate)\r\n          break\r\n        default:\r\n          piece = new Pawn()\r\n      }\r\n      return piece\r\n    }\r\n}\r\n\r\nclass Pawn extends Piece {\r\n  name = 'pawn'\r\n  moved = false\r\n  constructor (side = 'white', coordinate = [0, 0]) {\r\n    super(side, coordinate, 'pawn')\r\n  }\r\n\r\n  checkMove (newCoordinate, chess) {\r\n    const keyboard = chess.keyboard\r\n    const nRow = newCoordinate[0]\r\n    const result = this.checkMoveWithoutInvokePromotion(newCoordinate, chess)\r\n    /*\r\n      checking for if chess should promote this pawn\r\n      */\r\n    if (result) {\r\n      if (\r\n        (this.side == 'white' && nRow == keyboard.length - 1) ||\r\n        (this.side == 'black' && nRow == 0)\r\n      ) {\r\n        chess.promotion(this)\r\n      }\r\n    }\r\n    return result\r\n  }\r\n\r\n  checkMoveWithoutInvokePromotion (newCoordinate, chess) {\r\n    const keyboard = chess.keyboard\r\n    const [nRow, nCol] = newCoordinate\r\n    const [oRow, oCol] = this.coordinate\r\n    let result\r\n    if (this.side == 'white') {\r\n      const piece = keyboard[nRow][nCol]\r\n      result = (\r\n        (nCol == oCol && nRow == oRow + 1) ||\r\n        (Math.abs(nCol - oCol) == 1 && nRow == oRow + 1 && piece && piece.side != this.side) ||\r\n        (!this.moved && nCol == oCol && nRow == oRow + 2 && oRow == 1)\r\n      )\r\n    }\r\n    if (this.side == 'black') { // 7, 5   <--   6, 4\r\n      const piece = keyboard[nRow][nCol]\r\n      result = (\r\n        (nCol == oCol && nRow == oRow - 1) ||\r\n        (Math.abs(nCol - oCol) == 1 && nRow == oRow - 1 && piece && piece.side != this.side) ||\r\n        (!this.moved && nCol == oCol && nRow == oRow - 2 && oRow == chess.KEYBOARD_HEIGHT - 2)\r\n      )\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\nclass Bishop extends Piece {\r\n    name = 'bishop'\r\n    constructor (side = 'white', coordinate = [0, 0]) {\r\n      super(side, coordinate, 'bishop')\r\n    }\r\n\r\n    checkMove (newCoordinate, chess) {\r\n      const [oRow, oCol] = this.coordinate\r\n      const [nRow, nCol] = newCoordinate\r\n      const rowDiff = Math.abs(nRow - oRow)\r\n      const colDiff = Math.abs(nCol - oCol)\r\n      let result = false\r\n      if (rowDiff == colDiff && rowDiff != 0) {\r\n        // console.log(\"the move meets the rule of chess for bishop\")\r\n        const piece = chess.searchDiagnalPath(this.coordinate, newCoordinate)\r\n        if (piece == null || (piece.coordinate[0] == newCoordinate[0] && piece.coordinate[1] == newCoordinate[1])) {\r\n          // console.log(\"the path is clear, move allowed\")\r\n          result = true\r\n        }\r\n      }\r\n      return result\r\n    }\r\n}\r\n\r\nclass Knight extends Piece {\r\n    name = 'knight'\r\n    constructor (side = 'white', coordinate = [0, 0]) {\r\n      super(side, coordinate, 'knight')\r\n    }\r\n\r\n    checkMove (newCoordinate) {\r\n      let nRow, nCol\r\n      [nRow, nCol] = newCoordinate\r\n      nRow = parseInt(nRow)\r\n      nCol = parseInt(nCol)\r\n      let oRow, oCol\r\n      [oRow, oCol] = this.coordinate\r\n      oRow = parseInt(oRow)\r\n      oCol = parseInt(oCol)\r\n      const result = (Math.abs(nRow - oRow) == 2 && Math.abs(nCol - oCol) == 1) || (Math.abs(nRow - oRow) == 1 && Math.abs(nCol - oCol) == 2)\r\n      return result\r\n    }\r\n}\r\n\r\nclass Rook extends Piece {\r\n    moved = false\r\n    name = 'rook'\r\n    constructor (side = 'white', coordinate = [0, 0]) {\r\n      super(side, coordinate, 'rook')\r\n    }\r\n\r\n    checkMove (newCoordinate, chess) {\r\n      let result = false\r\n      const [nRow, nCol] = newCoordinate\r\n      const [oRow, oCol] = this.coordinate\r\n      if ((nRow == oRow || nCol == oCol) && (nRow != oRow || nCol != oCol)) {\r\n        // console.log(\"the move meets the rule of chess for rook\")\r\n        const piece = chess.searchStraightPath(this.coordinate, newCoordinate)\r\n        if (piece == null || (piece.coordinate[0] == newCoordinate[0] && piece.coordinate[1] == newCoordinate[1])) {\r\n          // console.log(\"the path is clear, move allowed\")\r\n          result = true\r\n        }\r\n      }\r\n      return result\r\n    }\r\n}\r\n\r\nclass King extends Piece {\r\n    moved = false\r\n    name = 'king'\r\n    constructor (side = 'white', coordinate = [0, 0]) {\r\n      super(side, coordinate, 'king')\r\n    }\r\n\r\n    checkMove (newCoordinate, chess) {\r\n      const keyboard = chess.keyboard\r\n      const [nRow, nCol] = newCoordinate\r\n      const [oRow, oCol] = this.coordinate\r\n      let result = (Math.abs(nRow - oRow) == 1 && nCol == oCol) ||\r\n                    (Math.abs(nCol - oCol) == 1 && nRow == oRow) ||\r\n                    (Math.abs(nRow - oRow) == 1 && Math.abs(nCol - oCol) == 1)\r\n      /*\r\n        checking for if chess should apply castling\r\n        */\r\n      if (this.moved == false) {\r\n        // console.log('king have not moved')\r\n        if (nRow == oRow && (keyboard[0].length - 1 - nCol == 1 || nCol == 1)) {\r\n          // console.log('destination make sence')\r\n          let rook = new Rook(this.side, this.coordinate)\r\n          if (rook.checkMove(newCoordinate, chess)) {\r\n            // console.log('path to destination is clear')\r\n            rook = null\r\n            const colStep = (nCol - oCol) / Math.abs(nCol - oCol)\r\n            const piece = chess.keyboard[nRow][nCol + colStep]\r\n            if (piece && piece.type == 'rook' && piece.moved == false) {\r\n              // console.log('the rook is also elligable')\r\n              // chess.castling(this, piece)\r\n              result = ['castling', this, piece]\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return result\r\n    }\r\n}\r\n\r\nclass Queen extends Piece {\r\n    name = 'queen'\r\n    constructor (side = 'white', coordinate = [0, 0]) {\r\n      super(side, coordinate, 'queen')\r\n    }\r\n\r\n    checkMove (newCoordinate, chess) {\r\n      const [nRow, nCol] = newCoordinate\r\n      const [oRow, oCol] = this.coordinate\r\n      const rowDiff = Math.abs(nRow - oRow)\r\n      const colDiff = Math.abs(nCol - oCol)\r\n      let result = false\r\n      if ((nRow == oRow || nCol == oCol) && (nRow != oRow || nCol != oCol)) {\r\n        // console.log(\"the move meets the rule of chess for queen\")\r\n        const piece = chess.searchStraightPath(this.coordinate, newCoordinate)\r\n        if (piece == null || (piece.coordinate[0] == newCoordinate[0] && piece.coordinate[1] == newCoordinate[1])) {\r\n          // console.log(\"the path is clear, move allowed\")\r\n          result = true\r\n        }\r\n      }\r\n      if (rowDiff == colDiff && rowDiff != 0) {\r\n        // console.log(\"the move meets the rule of chess for queen\")\r\n        const piece = chess.searchDiagnalPath(this.coordinate, newCoordinate)\r\n        if (piece == null || (piece.coordinate[0] == newCoordinate[0] && piece.coordinate[1] == newCoordinate[1])) {\r\n          // console.log(\"the path is clear, move allowed\")\r\n          result = true\r\n        }\r\n      }\r\n      return result\r\n    }\r\n}\r\n\r\nexport {\r\n  Chess\r\n}\r\n","class TimeFormat {\r\n  static formatBySecond (time) {\r\n    let minute = parseInt(time / 60)\r\n    minute = minute < 10 ? '0' + minute : '' + minute\r\n    let second = (time % 60)\r\n    second = second < 10 ? '0' + second : '' + second\r\n    const TIME = minute + ':' + second\r\n    return TIME\r\n  }\r\n}\r\n\r\nexport {\r\n  TimeFormat\r\n}\r\n","<template>\r\n    <MessageWindow\r\n    :messageType=\"'warning'\"\r\n    :message=\"'the game name already exist!'\"\r\n    :showMessage=\"showMessage\"\r\n    />\r\n    <div class=\"wrapper\">\r\n        <form>\r\n            <div class=\"row\">\r\n              <label for=\"name\">name:</label>\r\n              <input type=\"text\" id=\"gameName\" required v-model=\"gameName\" maxlength=\"50\">\r\n              <br><br>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <label for=\"side\">side:</label>\r\n              <select id=\"side\" v-model=\"side\">\r\n                  <option value=\"white\">white</option>\r\n                  <option value=\"black\">black</option>\r\n              </select>\r\n              <br><br>\r\n            </div>\r\n\r\n            <div class=\"row\">\r\n              <label for=\"difficulty\">difficulty:</label>\r\n              <input type=\"text\" id=\"gameDifficulty\" v-model=\"difficulty\" maxlength=\"10\">\r\n              <br><br>\r\n            </div>\r\n        </form>\r\n        <div id=\"buttonWrapper\">\r\n            <button id=\"saveGame\" class=\"button\" @click=\"save\">save game</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style src=\"@/assets/styles/ChessGameConfig.css\" scoped></style>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport MessageWindow from './MessageWindow.vue'\r\n\r\nexport default {\r\n  name: 'ChessgameConfig',\r\n  props: ['saveGame'],\r\n  components: {\r\n    MessageWindow\r\n  },\r\n  data () {\r\n    return {\r\n      gameName: '',\r\n      side: 'white',\r\n      difficulty: 'easy',\r\n      showMessage: false\r\n    }\r\n  },\r\n  mounted () {\r\n    const now = new Date()\r\n    this.gameName = 'saved game -' + now.toLocaleTimeString('en-GB', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit' })\r\n  },\r\n  methods: {\r\n    save () {\r\n      // varify if name already exist\r\n      axios.get('http://localhost:3000/getChessByName', {\r\n        params: {\r\n          name: this.gameName\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.length > 0) {\r\n            // console.log('name already exist')\r\n            this.showMessage = true\r\n            // console.log('message prompt, start the count down')\r\n            setTimeout(() => {\r\n              this.showMessage = false\r\n            }, 3000)\r\n          } else {\r\n            // send out the save game request\r\n            this.saveGame(this.gameName, this.side, this.difficulty)\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"centeringWrapper\">\r\n    <div class=\"messageWrapper\" id=\"messageWindow\">\r\n      {{ message }}\r\n    </div>\r\n  </div>\r\n</template>\r\n<style scoped src=\"@/assets/styles/messageWindow.css\"></style>\r\n<script>\r\nexport default {\r\n  name: 'MessageWindow',\r\n  data () {\r\n    return {\r\n      messageWindow: null\r\n    }\r\n  },\r\n  props: {\r\n    message: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    messageType: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    showMessage: {\r\n      type: Boolean,\r\n      required: true\r\n    }\r\n  },\r\n  watch: {\r\n    showMessage (newVal, oldVal) {\r\n      setTimeout(() => { // for making the transition animation happen when v-if recreated the component\r\n        this.toggleVisibility()\r\n      }, 100)\r\n    },\r\n    messageType (newVal, oldVal) {\r\n      // console.log(newVal, oldVal)\r\n      if (oldVal !== '') {\r\n        this.messageWindow.classList.remove(oldVal)\r\n      }\r\n      if (newVal !== '') {\r\n        this.messageWindow.classList.add(newVal)\r\n      }\r\n    }\r\n  },\r\n  mounted () {\r\n    this.messageWindow = document.getElementById('messageWindow')\r\n    if (this.messageType !== '') {\r\n      this.messageWindow.classList.add(this.messageType)\r\n    }\r\n  },\r\n  methods: {\r\n    toggleVisibility () {\r\n      // console.log(`showMessage changed from ${oldVal} to ${newVal}`)\r\n      if (this.showMessage === false) {\r\n        this.messageWindow.classList.remove('show')\r\n      } else {\r\n        this.messageWindow.classList.add('show')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./MessageWindow.vue?vue&type=template&id=14b24bae&scoped=true\"\nimport script from \"./MessageWindow.vue?vue&type=script&lang=js\"\nexport * from \"./MessageWindow.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/styles/messageWindow.css?vue&type=style&index=0&id=14b24bae&scoped=true&lang=css&external\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-14b24bae\"]])\n\nexport default __exports__","import { render } from \"./ChessGameConfig.vue?vue&type=template&id=3612a05a&scoped=true\"\nimport script from \"./ChessGameConfig.vue?vue&type=script&lang=js\"\nexport * from \"./ChessGameConfig.vue?vue&type=script&lang=js\"\n\nimport \"@/assets/styles/ChessGameConfig.css?vue&type=style&index=0&id=3612a05a&scoped=true&lang=css&external\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3612a05a\"]])\n\nexport default __exports__","import { render } from \"./ChessGame.vue?vue&type=template&id=0692935d\"\nimport script from \"./ChessGame.vue?vue&type=script&lang=js\"\nexport * from \"./ChessGame.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template >\r\n  <h1 id = \"timer\">{{ time }}</h1>\r\n  <div id = \"typingGameContent\" @keydown=\"keyPressed\" tabindex=\"0\">\r\n    <div id = \"textWrapper\">\r\n      <div id = \"textBackground\" class = \"overlap textBlock\">\r\n        <p\r\n        :class=\"'charBlock ' + (idx > inputChars.length-1 ? '' : (inputChars[idx] == char ? 'green' : 'red'))\"\r\n        v-for=\"(char, idx) in refChars\"\r\n        :key=\"idx\"\r\n        >\r\n          {{ char }}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <GameResultPannel\r\n  v-if=\"showResultPannel\"\r\n  :gameResults=\"gameResults\"/>\r\n  <ButtomBar\r\n  :restart=\"restart\"\r\n  :exit=\"exit\"/>\r\n</template>\r\n<script scoped>\r\nimport ButtomBar from '@/components/ButtomBar.vue'\r\nimport GameResultPannel from '@/components/GameResultPannel.vue'\r\nimport { TimeFormat } from '@/assets/js/generalClasses/timeFormat'\r\nimport paragraphs from '@/assets/typingGame/typingGameData.json'\r\nimport '../assets/typingGame/typingGame.css'\r\n\r\nexport default {\r\n  name: 'typeingGame',\r\n  components: {\r\n    ButtomBar,\r\n    GameResultPannel\r\n  },\r\n  mounted () {\r\n    this.paragraphs = paragraphs\r\n    this.initTypingGame()\r\n  },\r\n  data () {\r\n    return {\r\n      sentence: '',\r\n      paragraphs: [],\r\n      interval: null,\r\n      inputChars: [],\r\n      refChars: [],\r\n      showResultPannel: false,\r\n      time: 0,\r\n      status: 'pending',\r\n      gameResults: {\r\n        time: 0,\r\n        correctChar: 0,\r\n        wrongChar: 0,\r\n        accuracy: 0\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    initTypingGame () {\r\n      const idx = Math.floor(Math.random() * this.paragraphs.length)\r\n      this.sentence = this.paragraphs[idx].text\r\n      this.status = 'pending'\r\n      this.inputChars.length = 0\r\n      this.refChars = this.sentence.split('')\r\n      this.showResultPannel = false\r\n      clearInterval(this.interval)\r\n      this.time = 0\r\n    },\r\n    keyPressed (event) {\r\n      if (this.status === 'ended') return\r\n      else if (this.status === 'pending') this.startGame()\r\n\r\n      const key = event.key\r\n      if (key === 'Backspace') this.inputChars.pop()\r\n      else if (key.length === 1) {\r\n        this.inputChars.push(key)\r\n      }\r\n      if (this.inputChars.length === this.refChars.length) this.endGame()\r\n    },\r\n    startGame () {\r\n      this.status = 'ongoing'\r\n      this.interval = setInterval(() => {\r\n        this.time++\r\n      }, 1000)\r\n    },\r\n    endGame () {\r\n      this.status = 'ended'\r\n      this.generateResults()\r\n      this.showResultPannel = true\r\n      clearInterval(this.interval)\r\n    },\r\n    generateResults () {\r\n      const len = this.refChars.length\r\n      let correctChar = 0\r\n      for (let idx = 0; idx < this.refChars.length; idx++) {\r\n        if (this.refChars[idx] === this.inputChars[idx]) {\r\n          correctChar++\r\n        }\r\n      }\r\n      this.gameResults.time = TimeFormat.formatBySecond(this.time)\r\n      this.gameResults.correctChar = correctChar\r\n      this.gameResults.wrongChar = len - correctChar\r\n      this.gameResults.accuracy = (correctChar / len).toFixed(2) * 100 + '%'\r\n    },\r\n    restart () {\r\n      this.initTypingGame()\r\n    },\r\n    exit () {\r\n      this.$router.push('/HomePage')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./TypeingGame.vue?vue&type=template&id=a30a56ee\"\nimport script from \"./TypeingGame.vue?vue&type=script&scoped=true&lang=js\"\nexport * from \"./TypeingGame.vue?vue&type=script&scoped=true&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <h1>mineSweep</h1>\r\n  <div class=\"difficultyList\">\r\n    <div\r\n    v-for=\"(psbiliy, difficulty, idx) in difficulties\"\r\n    :key=\"idx\"\r\n    @click.prevent=\"changeDifficulty(difficulty)\"\r\n    :class=\"'button ' + (psbiliy == possibility ? 'chosenButton' : '')\"\r\n    >\r\n      {{ 'difficulty: ' + difficulty + ' | mine possibility: ' + psbiliy + '%' }}\r\n    </div>\r\n  </div>\r\n  <div class=\"sizeList\">\r\n    <div\r\n    v-for=\"(dmsion, name, idx) in sizes\"\r\n    :key=\"idx\"\r\n    @click.prevent=\"changeSize(dmsion)\"\r\n    :class=\"'button ' + (dmsion == dimension ? 'chosenButton' : '')\"\r\n    >\r\n      {{ name + ' | ' + dmsion.height + ' * ' + dmsion.width }}\r\n    </div>\r\n  </div>\r\n  <div id=\"mineSweepContentWrapper\">\r\n    <MineSweepBoard\r\n    :HEIGHT=\"dimension.height\"\r\n    :WIDTH=\"dimension.width\"\r\n    :BOARD=\"mineSweep.BOARD\"\r\n    :clickBlock=\"clickBlock\"\r\n    />\r\n  </div>\r\n  <ButtomBar\r\n  :restart=\"restart\"\r\n  :exit=\"exit\"\r\n  />\r\n  <GameResultPannel\r\n  v-if=\"showResultPannel\"\r\n  :gameResults=\"gameResults\"\r\n  />\r\n</template>\r\n<script>\r\nimport '../assets/js/mineSweep/mineSweep.css'\r\nimport { MineSweep } from '../assets/js/mineSweep/mineSweep.js'\r\nimport MineSweepBoard from '@/components/MineSweepBoard.vue'\r\nimport ButtomBar from '@/components/ButtomBar.vue'\r\nimport GameResultPannel from '@/components/GameResultPannel.vue'\r\nimport { TimeFormat } from '@/assets/js/generalClasses/timeFormat'\r\nexport default {\r\n  name: 'MineSweep',\r\n  components: {\r\n    MineSweepBoard,\r\n    ButtomBar,\r\n    GameResultPannel\r\n  },\r\n  data () {\r\n    return {\r\n      dimension: {\r\n        height: 10,\r\n        width: 10\r\n      },\r\n      mineSweep: null,\r\n      possibility: 10,\r\n      difficulties: {\r\n        hard: 30,\r\n        medium: 20,\r\n        easy: 10\r\n      },\r\n      sizes: {\r\n        small: {\r\n          height: 6,\r\n          width: 6\r\n        },\r\n        medium: {\r\n          height: 10,\r\n          width: 10\r\n        },\r\n        big: {\r\n          height: 15,\r\n          width: 15\r\n        }\r\n      },\r\n      doubleClickTimeOut: null,\r\n      doubleClickCoor: [],\r\n      gameResults: {\r\n        result: 'unknown',\r\n        time: 0,\r\n        discovered: 0,\r\n        'mines left': 0\r\n      },\r\n      showResultPannel: false\r\n    }\r\n  },\r\n  created () {\r\n    this.dimension = this.sizes.medium\r\n    this.mineSweep = new MineSweep(this.dimension.height, this.dimension.width)\r\n  },\r\n  mounted () {\r\n    this.possibility = this.difficulties.easy\r\n    this.mineSweep.initMineSweep(this.possibility)\r\n  },\r\n  methods: {\r\n    clickBlock (coor, typeOfClick) {\r\n      if (this.mineSweep.status === 'ended') return\r\n\r\n      if (\r\n        this.doubleClickTimeOut !== null &&\r\n        JSON.stringify(coor) === JSON.stringify(this.doubleClickCoor) &&\r\n        typeOfClick === 'left'\r\n      ) {\r\n        clearTimeout(this.doubleClickTimeOut)\r\n        this.doubleClickCoor = []\r\n        this.doubleClickTimeOut = null\r\n        this.mineSweep.spreadCell(coor)\r\n      } else {\r\n        if (typeOfClick === 'left') {\r\n          this.doubleClickCoor = coor\r\n          this.doubleClickTimeOut = setTimeout(() => {\r\n            this.doubleClickCoor = []\r\n            this.doubleClickTimeOut = null\r\n          }, 400)\r\n          this.mineSweep.openCell(coor)\r\n        } else if (typeOfClick === 'right') {\r\n          this.mineSweep.flagCell(coor)\r\n        }\r\n      }\r\n\r\n      if (this.mineSweep.status === 'ended') {\r\n        this.generateResults()\r\n        this.showResultPannel = true\r\n      }\r\n    },\r\n    generateResults () {\r\n      this.gameResults.result = this.mineSweep.result\r\n      this.gameResults.time = TimeFormat.formatBySecond(this.mineSweep.gameTime)\r\n      this.gameResults.discovered =\r\n        (this.mineSweep.openedCellNum /\r\n        (this.mineSweep.HEIGHT * this.mineSweep.WIDTH)).toFixed(2) * 100 + '%'\r\n      this.gameResults['mines left'] = this.mineSweep.mineNum - this.mineSweep.flagNum\r\n    },\r\n    changeDifficulty (difficulty) {\r\n      if (this.difficulties[difficulty] !== this.possibility) {\r\n        this.possibility = this.difficulties[difficulty]\r\n        this.restart()\r\n      }\r\n    },\r\n    changeSize (dimension) {\r\n      if (JSON.stringify(this.dimension) !== JSON.stringify(this.sizes[dimension])) {\r\n        this.dimension = dimension\r\n        this.mineSweep.changeBoardSize(this.dimension.height, this.dimension.width)\r\n        this.restart()\r\n      }\r\n    },\r\n    restart () {\r\n      this.showResultPannel = false\r\n      this.mineSweep.initMineSweep(this.possibility)\r\n    },\r\n    exit () {\r\n      this.$router.push('/HomePage')\r\n    }\r\n  }\r\n}\r\n</script>\r\n","class MineSweep {\r\n  /*\r\nfor each cell inside the BOARD, they have three attributes\r\n[0] is their value, -1 --> mine, 0-8 --> number of surrounding mines\r\n[1] is their flag value, 0 --> unflagged , 1 --> flagged\r\n[2] is their open value, 0 --> unopen, 1o --> open\r\n  */\r\n    HEIGHT = 3\r\n    WIDTH = 3\r\n    BOARD = []\r\n    status = 'pending'\r\n    possibility = 30\r\n    mineNum = 0\r\n    flagNum = 0\r\n    openedCellNum = 0\r\n    result = 'pending'\r\n    gameTime = 0\r\n    gameTimeInterval = null\r\n    constructor (HEIGHT, WIDTH) {\r\n      this.HEIGHT = HEIGHT\r\n      this.WIDTH = WIDTH\r\n    }\r\n\r\n    initMineSweep (possibility = 30) {\r\n      this.status = 'pending'\r\n      this.possibility = possibility\r\n      this.mineNum = 0\r\n      this.flagNum = 0\r\n      this.openedCellNum = 0\r\n      this.result = 'pending'\r\n      this.gameTime = 0\r\n      clearInterval(this.gameTimeInterval)\r\n      this.initBoards()\r\n      // console.log('the layout of mines: ', this.BOARD)\r\n    }\r\n\r\n    initMineSweepWithCoor (coor) {\r\n      this.gameTimeInterval = setInterval(() => {\r\n        this.gameTime++\r\n      }, 1000)\r\n\r\n      if (this.BOARD.length === 0) this.initBoards()\r\n      this.generateMines()\r\n\r\n      // console.log(`mine generated, start clearing the mines around ${coor}`)\r\n      const [row, col] = coor\r\n      const steps = [[1, 1], [1, 0], [1, -1], [0, 1], [0, 0], [0, -1], [-1, 1], [-1, 0], [-1, -1]]\r\n      let rowStep, colStep, rowIdx, colIdx\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        [rowStep, colStep] = steps[idx]\r\n        rowIdx = row + rowStep\r\n        colIdx = col + colStep\r\n        if (rowIdx < 0 || rowIdx > this.HEIGHT - 1) continue\r\n        if (colIdx < 0 || colIdx > this.WIDTH - 1) continue\r\n        this.BOARD[rowIdx][colIdx][0] = 0\r\n      }\r\n      // console.log(`mines around ${coor} are all cleared`, this.BOARD)\r\n      this.updateMineNumber()\r\n      this.generateCellValues()\r\n    }\r\n\r\n    initBoards () {\r\n      this.BOARD.length = 0\r\n      for (let rowIdx = 0; rowIdx < this.HEIGHT; rowIdx++) {\r\n        this.BOARD[rowIdx] = []\r\n        for (let colIdx = 0; colIdx < this.WIDTH; colIdx++) {\r\n          const cell = new Array(3).fill(0)\r\n          this.BOARD[rowIdx].push(cell)\r\n        }\r\n      }\r\n    }\r\n\r\n    generateMines () {\r\n      for (let rowIdx = 0; rowIdx < this.HEIGHT; rowIdx++) {\r\n        for (let colIdx = 0; colIdx < this.WIDTH; colIdx++) {\r\n          this.BOARD[rowIdx][colIdx][0] = this.generateMine(this.possibility)\r\n        }\r\n      }\r\n    }\r\n\r\n    generateMine (possibility) {\r\n      const ifMine = Math.floor(Math.random() * 100) < possibility\r\n      return ifMine ? -1 : 0\r\n    }\r\n\r\n    generateCellValues () {\r\n      for (let rowIdx = 0; rowIdx < this.HEIGHT; rowIdx++) {\r\n        for (let colIdx = 0; colIdx < this.WIDTH; colIdx++) {\r\n          if (this.BOARD[rowIdx][colIdx][0] !== -1) {\r\n            this.BOARD[rowIdx][colIdx][0] = this.generateCellValue([rowIdx, colIdx])\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    generateCellValue (coor) {\r\n      const [row, col] = coor\r\n      const steps = [[1, 1], [1, 0], [1, -1], [0, 1], [0, -1], [-1, 1], [-1, 0], [-1, -1]]\r\n      let value = 0\r\n      for (let idx = 0; idx < steps.length; idx++) {\r\n        const [rowStep, colStep] = steps[idx]\r\n        const rowIdx = row + rowStep\r\n        const colIdx = col + colStep\r\n        if (rowIdx < 0 || rowIdx > this.HEIGHT - 1) continue\r\n        if (colIdx < 0 || colIdx > this.WIDTH - 1) continue\r\n        const surroundingValue = this.BOARD[row + rowStep][col + colStep][0]\r\n        if (surroundingValue === -1) value++\r\n      }\r\n      return value\r\n    }\r\n\r\n    openCell (coor) {\r\n      if (this.status === 'ended') return\r\n      const [row, col] = coor\r\n      const cell = this.BOARD[row][col]\r\n      const [value, flagVal, openVal] = cell\r\n\r\n      if (flagVal === 1) {\r\n        // console.log('the cell cannot be open because it is flagged')\r\n      } else if (openVal === 1) {\r\n        // console.log('the cell is already opened')\r\n      } else {\r\n        // console.log('cell can be opened')\r\n\r\n        if (this.status === 'pending') {\r\n          this.status = 'ongoing'\r\n          this.initMineSweepWithCoor(coor)\r\n        }\r\n\r\n        cell[2] = 1\r\n        this.openedCellNum++\r\n        if (value === -1) {\r\n          // console.log('the opened cell is a mine, game over!')\r\n          this.openedCellNum--\r\n          return this.endGame()\r\n        } else if (value >= 0 && value <= 8) {\r\n          // console.log('the opened cell is clear')\r\n          this.spreadVoidCell(coor)\r\n        }\r\n      }\r\n      if (this.checkIfGameOver()) {\r\n        // console.log('you win the game')\r\n        this.flagNum = this.mineNum\r\n        return this.endGame()\r\n      }\r\n    }\r\n\r\n    flagCell (coor) {\r\n      if (this.status === 'ended' || this.status === 'pending') return\r\n      const [row, col] = coor\r\n      const cell = this.BOARD[row][col]\r\n      // eslint-disable-next-line no-unused-vars\r\n      const [value, flagVal, openVal] = cell\r\n      if (openVal === 1) {\r\n        // console.log('cannot flag a opened cell')\r\n      } else if (flagVal === 0) {\r\n        // console.log('add flag to cell')\r\n        cell[1] = 1\r\n        this.flagNum++\r\n      } else if (flagVal === 1) {\r\n        // console.log('remove flag from cell')\r\n        cell[1] = 0\r\n        this.flagNum--\r\n      }\r\n    }\r\n\r\n    spreadVoidCell (coor) {\r\n      const [sRow, sCol] = coor\r\n      if (this.BOARD[sRow][sCol][0] !== 0) return\r\n      const steps = [[1, 1], [1, 0], [1, -1], [0, 1], [0, -1], [-1, 1], [-1, 0], [-1, -1]]\r\n      const visited = new Map()\r\n      visited.set(sRow + '' + sCol, true)\r\n      const queue = [[sRow, sCol]]\r\n      while (queue.length) {\r\n        const [row, col] = queue.shift()\r\n        let surrounding\r\n        let rowStep, colStep\r\n        let rowIdx, colIdx\r\n        for (let idx = 0; idx < steps.length; idx++) {\r\n          [rowStep, colStep] = steps[idx]\r\n          rowIdx = row + rowStep\r\n          colIdx = col + colStep\r\n          if (rowIdx < 0 || rowIdx > this.HEIGHT - 1) continue\r\n          if (colIdx < 0 || colIdx > this.WIDTH - 1) continue\r\n          if (visited.get(rowIdx + '' + colIdx) !== true) {\r\n            surrounding = this.BOARD[rowIdx][colIdx]\r\n            if (surrounding[2] === 0) {\r\n              surrounding[2] = 1\r\n              this.openedCellNum++\r\n            }\r\n            visited.set(rowIdx + '' + colIdx, true)\r\n            if (surrounding[0] === 0) queue.push([rowIdx, colIdx])\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    spreadCell (coor) {\r\n      const steps = [[1, 1], [1, 0], [1, -1], [0, 1], [0, -1], [-1, 1], [-1, 0], [-1, -1]]\r\n      const [row, col] = coor\r\n      const cell = this.BOARD[row][col]\r\n      let rowStep, colStep, rowIdx, colIdx\r\n      let surrounding\r\n      let flagCount = 0\r\n      const unopenCoors = []\r\n      for (const step of steps) {\r\n        [rowStep, colStep] = step\r\n        rowIdx = row + rowStep\r\n        colIdx = col + colStep\r\n        if (rowIdx < 0 || rowIdx > this.HEIGHT - 1) continue\r\n        if (colIdx < 0 || colIdx > this.WIDTH - 1) continue\r\n        surrounding = this.BOARD[rowIdx][colIdx]\r\n        if (surrounding[1] === 1) flagCount++\r\n        else if (surrounding[2] === 0) unopenCoors.push([rowIdx, colIdx])\r\n      }\r\n      if (flagCount === cell[0]) {\r\n        // console.log('the amount of flagged cell is the same as the value of cell suggests')\r\n        unopenCoors.forEach((unopenCoor) => {\r\n          this.openCell(unopenCoor)\r\n        })\r\n      } else {\r\n        // console.log(`the amount of flagged cell around ${coor} is not the same as the value of ${coor}`)\r\n      }\r\n    }\r\n\r\n    updateMineNumber () {\r\n      if (this.BOARD.length) {\r\n        this.mineNum = 0\r\n        for (const row of this.BOARD) {\r\n          for (const cell of row) {\r\n            if (cell[0] === -1) this.mineNum++\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    checkIfGameOver () {\r\n      if (this.status === 'ended') return true\r\n      const numOfCell = this.HEIGHT * this.WIDTH\r\n      if (numOfCell === this.openedCellNum + this.mineNum) return true\r\n      else return false\r\n    }\r\n\r\n    changeBoardSize (height, width) {\r\n      this.HEIGHT = height\r\n      this.WIDTH = width\r\n      this.initMineSweep()\r\n    }\r\n\r\n    endGame () {\r\n      this.status = 'ended'\r\n      const result = this.HEIGHT * this.WIDTH === this.openedCellNum + this.mineNum\r\n      this.result = result ? 'win' : 'fail'\r\n      clearInterval(this.gameTimeInterval)\r\n    }\r\n}\r\n\r\nexport {\r\n  MineSweep\r\n}\r\n","<template>\r\n    <div id=\"mineSweepContent\">\r\n\r\n      <div\r\n      id=\"mineSweepRow\"\r\n      v-for=\"(row, rowIdx) in BOARD\"\r\n      :key=\"rowIdx\"\r\n      >\r\n        <div\r\n        id=\"mineSweepCell\"\r\n        v-for=\"(cell, colIdx) in row\"\r\n        :key=\"rowIdx + ',' + colIdx\"\r\n        @click.right.prevent=\"clickBlock([rowIdx, colIdx], 'right')\"\r\n        @click.left.prevent=\"clickBlock([rowIdx, colIdx], 'left')\"\r\n        >\r\n          <p v-if=\"cell[2] === 1\" :class=\"'cellVal ' + (cell[0] === -1 ? 'mineCell' : '')\" >\r\n            {{ cell[0] === -1 ? '*' : cell[0] === 0 ? '' : cell[0]}}\r\n          </p>\r\n          <p class=\"cellFlag\" v-if=\"cell[1] === 1\">\r\n            flag\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'MineSweepBoard',\r\n  props: ['HEIGHT', 'WIDTH', 'BOARD', 'clickBlock']\r\n}\r\n</script>\r\n","import { render } from \"./MineSweepBoard.vue?vue&type=template&id=7929ec56\"\nimport script from \"./MineSweepBoard.vue?vue&type=script&lang=js\"\nexport * from \"./MineSweepBoard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MineSweep.vue?vue&type=template&id=1b541a91\"\nimport script from \"./MineSweep.vue?vue&type=script&lang=js\"\nexport * from \"./MineSweep.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <h1>box physics</h1>\r\n  <div id=\"boxPhysicsWrapper\">\r\n    <div id=\"boxPhysicsContent\">\r\n      <div\r\n      v-if=\"boxPhysics\"\r\n      id=\"boxPhysicsContainer\"\r\n      :style=\"`\r\n      height: ${boxPhysics.height}px;\r\n      width: ${boxPhysics.width}px;\r\n      `\"\r\n      @keydown=\"keyPressed\"\r\n      @keyup=\"keyLeft\"\r\n      tabindex=\"0\"\r\n      >\r\n        <div\r\n        v-if=\"boxPhysics.box\"\r\n        id=\"mainBox\"\r\n        :style=\"`\r\n        left: ${boxPhysics.box.box.coor[0]}px;\r\n        top: ${boxPhysics.box.box.coor[1]}px;\r\n        height: ${boxPhysics.box.box.size[0]}px;\r\n        width: ${boxPhysics.box.box.size[1]}px;\r\n        `\"\r\n        ></div>\r\n        <div\r\n        v-for=\"(box, idx) in boxPhysics.boxes\"\r\n        v-show=\"box !== boxPhysics.box\"\r\n        :key=\"idx\"\r\n        class=\"box\"\r\n        :style=\"`\r\n        left: ${box.box.coor[0]}px;\r\n        top: ${box.box.coor[1]}px;\r\n        height: ${box.box.size[0]}px;\r\n        width: ${box.box.size[1]}px;\r\n        `\"\r\n        >{{ idx }}</div>\r\n      </div>\r\n      <div\r\n      class=\"button\"\r\n      @click=\"addBox\"\r\n      >add box (E)</div>\r\n      <div\r\n      class=\"button\"\r\n      @click=\"boxPhysics.changeGravitationalForce\"\r\n      >inverse gravititional force (G)</div>\r\n      <div\r\n      class=\"button\"\r\n      @click=\"removeBox\"\r\n      >remove box (R)</div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nimport { BoxPhysics } from '@/assets/js/boxPhysics/boxPhysics'\r\nimport '@/assets/styles/boxPhysics/boxPhysics.css'\r\nexport default {\r\n  name: 'BoxPhysics',\r\n  data () {\r\n    return {\r\n      keyArr: [],\r\n      prevKey: '',\r\n      boxPhysics: null,\r\n      updateInterval: null,\r\n      height: 500,\r\n      width: 500,\r\n      fps: 30\r\n    }\r\n  },\r\n  created () {\r\n    this.boxPhysics = new BoxPhysics(this.height, this.width, this.fps)\r\n    this.boxPhysics.addMainBox()\r\n    this.updateInterval = setInterval(() => {\r\n      this.updateVisual()\r\n    }, 1000 / this.fps)\r\n    this.boxPhysics.createUpdateInterval()\r\n  },\r\n  beforeUnmount () {\r\n    this.boxPhysics.clearUpdateInterval()\r\n    clearInterval(this.updateInterval)\r\n  },\r\n  methods: {\r\n    updateVisual () {\r\n      this.boxPhysics.boxes.forEach(box => {\r\n        box.box.coor[0]++\r\n        box.box.coor[0]--\r\n      })\r\n    },\r\n    keyPressed (event) {\r\n      const key = event.key\r\n\r\n      if (this.prevKey === key) return\r\n      this.prevKey = key\r\n\r\n      if (['a', 'd'].includes(key)) {\r\n        this.keyArr.push(key)\r\n        if (key === 'a') {\r\n          this.boxPhysics.applyHorizontalAccel('l')\r\n        }\r\n        if (key === 'd') {\r\n          this.boxPhysics.applyHorizontalAccel('r')\r\n        }\r\n      }\r\n      if (key === 'w') {\r\n        this.boxPhysics.jump()\r\n      }\r\n      if (key === 'e') {\r\n        this.addBox()\r\n      }\r\n      if (key === 'g') {\r\n        this.boxPhysics.changeGravitationalForce()\r\n      }\r\n      if (key === 'r') {\r\n        this.boxPhysics.removeBox()\r\n      }\r\n      if (key === 'q') {\r\n        this.boxPhysics.box.xVel += this.boxPhysics.box.xVel > 0 ? 300 : -300\r\n      }\r\n    },\r\n    keyLeft (event) {\r\n      const key = event.key\r\n      if (key === this.prevKey) this.prevKey = ''\r\n      if (['a', 'd'].includes(key)) {\r\n        if (this.keyArr[this.keyArr.length - 1] === key) {\r\n          this.boxPhysics.stopHorizontalAccel()\r\n          this.keyArr.pop()\r\n          if (this.keyArr.length) {\r\n            this.keyPressed({ key: this.keyArr.pop() })\r\n          }\r\n        } else {\r\n          this.keyArr.splice(this.keyArr.indexOf(key), 1)\r\n        }\r\n      }\r\n    },\r\n    addBox () {\r\n      this.boxPhysics.addBox([(this.width - 20) * Math.random(), (this.height - 20) * Math.random()])\r\n    },\r\n    removeBox () {\r\n      this.boxPhysics.removeBox()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","class Box {\r\n    coor = []\r\n    size = []\r\n    constructor (coor = [0, 0], size = [20, 20]) {\r\n      const width = parseInt(Math.max(20, size[0]))\r\n      const height = parseInt(Math.max(20, size[1]))\r\n      const x = parseInt(coor[0])\r\n      const y = parseInt(coor[1])\r\n      this.coor = [x, y]\r\n      this.size = [width, height]\r\n    }\r\n}\r\n\r\nclass MovableBox {\r\n    id = 0\r\n    xAccel = 0\r\n    xVel = 0\r\n    yAccel = 0\r\n    yVel = 0\r\n    box = null\r\n    fps = 0\r\n    maxVel = 400\r\n    constructor (id, coor, size, fps) {\r\n      this.id = id\r\n      this.box = new Box(coor, size)\r\n      this.fps = fps\r\n    }\r\n\r\n    changeAccel (xAccel = this.xAccel, yAccel = this.yAccel) {\r\n      this.xAccel = xAccel\r\n      this.yAccel = yAccel\r\n    }\r\n\r\n    updateVel () {\r\n      this.xVel += (this.xAccel / this.fps)\r\n      this.yVel += (this.yAccel / this.fps)\r\n      if (this.xVel > this.maxVel) this.xVel = this.maxVel\r\n      if (this.xVel < -this.maxVel) this.xVel = -this.maxVel\r\n      if (this.yVel > this.maxVel) this.yVel = this.maxVel\r\n      if (this.yVel < -this.maxVel) this.yVel = -this.maxVel\r\n    }\r\n\r\n    updateCoor () {\r\n      this.box.coor[0] += (this.xVel / this.fps)\r\n      this.box.coor[1] += (this.yVel / this.fps)\r\n    }\r\n\r\n    getCoor () {\r\n      const x = parseInt(this.box.coor[0])\r\n      const y = parseInt(this.box.coor[1])\r\n      return [x, y]\r\n    }\r\n\r\n    getSize () {\r\n      return this.box.size\r\n    }\r\n}\r\n\r\nexport {\r\n  MovableBox\r\n}\r\n","import { MovableBox } from './boxes'\r\n\r\nclass BoxPhysics {\r\n    boxes = []\r\n    box = null\r\n    height = 0\r\n    width = 0\r\n    fps = 0\r\n    GVTTN_FORCE = 500\r\n    FRICTION = 100\r\n    updateInterval = null\r\n    boxCoorBoard = []\r\n    yCount = 0\r\n    xCount = 0\r\n    ground = 0\r\n    coorMap = new Map()\r\n    boxElesticity = 1.3\r\n    wallElesticity = 1\r\n\r\n    constructor (height = 500, width = 500, fps = 0) {\r\n      this.height = height\r\n      this.width = width\r\n      this.fps = fps\r\n      this.ground = this.height\r\n      this.initBoxCoorBoard()\r\n    }\r\n\r\n    initBoxCoorBoard () {\r\n      for (let yIdx = 0; yIdx < this.height; yIdx++) {\r\n        this.boxCoorBoard.push(new Array(this.width).fill(0))\r\n      }\r\n      this.yCount = new Array(this.height).fill(0)\r\n      this.xCount = new Array(this.width).fill(0)\r\n    }\r\n\r\n    setBoxCoor (box) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      if (\r\n        (x < 0 || x + width - 1 >= this.width) ||\r\n        (y < 0 || y + height - 1 >= this.height)\r\n      ) {\r\n        return false\r\n      }\r\n      const vertices = [[x, y], [x, y + height - 1], [x + width - 1, y], [x + width - 1, y + height - 1]]\r\n      vertices.forEach(vertex => {\r\n        const [xIdx, yIdx] = vertex\r\n        this.boxCoorBoard[yIdx][xIdx]++\r\n        this.yCount[yIdx]++\r\n        this.xCount[xIdx]++\r\n        this.coorMap.set(xIdx + ',' + yIdx, box)\r\n      })\r\n      return true\r\n    }\r\n\r\n    removeBoxCoor (box) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      const vertices = [[x, y], [x, y + height - 1], [x + width - 1, y], [x + width - 1, y + height - 1]]\r\n      vertices.forEach(vertex => {\r\n        const [xIdx, yIdx] = vertex\r\n        this.boxCoorBoard[yIdx][xIdx]--\r\n        this.yCount[yIdx]--\r\n        this.xCount[xIdx]--\r\n        this.coorMap.delete(xIdx + ',' + yIdx)\r\n      })\r\n    }\r\n\r\n    createUpdateInterval () {\r\n      this.updateInterval = setInterval(() => {\r\n        this.update()\r\n      }, 1000 / this.fps)\r\n    }\r\n\r\n    clearUpdateInterval () {\r\n      clearInterval(this.updateInterval)\r\n    }\r\n\r\n    addBox (coor = [0, 0], size = [20, 20]) {\r\n      const id = this.boxes.length + 1\r\n      const x = parseInt(coor[0])\r\n      const y = parseInt(coor[1])\r\n      coor = [x, y]\r\n      const width = parseInt(size[0])\r\n      const height = parseInt(size[1])\r\n      size = [width, height]\r\n      const box = new MovableBox(id, coor, size, this.fps)\r\n      if (this.checkIfOverlap(box)) return\r\n      this.setBoxCoor(box)\r\n      this.boxes.push(box)\r\n    }\r\n\r\n    removeBox () {\r\n      if (this.boxes.length > 1) {\r\n        const box = this.boxes.pop()\r\n        this.removeBoxCoor(box)\r\n      }\r\n    }\r\n\r\n    addMainBox (coor, size) {\r\n      this.addBox(coor, size)\r\n      this.box = this.boxes[this.boxes.length - 1]\r\n    }\r\n\r\n    applyHorizontalAccel (direction) {\r\n      if (direction === 'l') {\r\n        this.box.changeAccel(-300)\r\n      }\r\n      if (direction === 'r') {\r\n        this.box.changeAccel(300)\r\n      }\r\n    }\r\n\r\n    stopHorizontalAccel () {\r\n      this.box.changeAccel(0)\r\n    }\r\n\r\n    jump () {\r\n      if (this.checkIfOnGround(this.box)) {\r\n        this.box.yVel = this.ground === 0 ? 200 : -200\r\n      }\r\n    }\r\n\r\n    update () {\r\n      this.updateBoxes()\r\n    }\r\n\r\n    updateBoxes () {\r\n      this.boxes.forEach(box => {\r\n        try {\r\n          const [sX, sY] = box.getCoor()\r\n          this.removeBoxCoor(box)\r\n          box.updateVel()\r\n          box.updateCoor()\r\n          this.fixIfOutside(box)\r\n          const [eX, eY] = box.getCoor()\r\n          if (sX !== eX || sY !== eY) {\r\n            // console.log('the box is moved')\r\n            const overlapCoor = this.checkIfOverlap(box)\r\n            if (overlapCoor) {\r\n              // get the overlapping box and store it as box2\r\n              const [x, y] = overlapCoor\r\n              const box2 = this.coorMap.get(x + ',' + y)\r\n              // store the speed of box and box2 temperarily to pass to applySpeedByCollision\r\n              const speeds = [[box.xVel, box.yVel], [box2.xVel, box2.yVel]]\r\n              // same goes to the acceleration of the boxes\r\n              const accel = [[box.xAccel, box.yAccel], [box2.xAccel, box2.yAccel]]\r\n              // console.log(box2.id)\r\n\r\n              const collisionDirection = this.fixBoxOverlap(box, overlapCoor)\r\n              // console.log(collisionDirection)\r\n              // reassign the temperary stored speed for the function applySpeedByCollision\r\n              box.xVel = speeds[0][0]\r\n              box.yVel = speeds[0][1]\r\n              box2.xVel = speeds[1][0]\r\n              box2.yVel = speeds[1][1]\r\n              // assign the temperary stored acceleration\r\n              box.xAccel = accel[0][0]\r\n              box.yAccel = accel[0][1]\r\n              box2.xAccel = accel[1][0]\r\n              box2.yAccel = accel[1][1]\r\n              this.applySpeedByCollision(box, box2, collisionDirection)\r\n            }\r\n          }\r\n          if (this.checkIfOnGround(box)) {\r\n            // console.log('box on ground')\r\n            this.applyFriction(box)\r\n            box.changeAccel(undefined, 0)\r\n            box.yVel = 0\r\n          } else {\r\n            this.applyGravitationalForce(box)\r\n          }\r\n          if (!this.setBoxCoor(box)) {\r\n            // the setBoxCoor failed due to illegal coor\r\n            // randomly assign the box with error to a different place\r\n            const [w, h] = box.getSize()\r\n            while (true) {\r\n              box.box.coor = [(this.width - w) * Math.random(), (this.height - h) * Math.random()]\r\n              if (!this.checkIfOverlap(box)) {\r\n                break\r\n              }\r\n            }\r\n            this.setBoxCoor(box)\r\n          }\r\n        } catch (exception) {\r\n          // randomly assign the box with error to a different place\r\n          const [w, h] = box.getSize()\r\n          while (true) {\r\n            box.box.coor = [(this.width - w) * Math.random(), (this.height - h) * Math.random()]\r\n            if (!this.checkIfOverlap(box)) {\r\n              break\r\n            }\r\n          }\r\n          this.setBoxCoor(box)\r\n        }\r\n      })\r\n    }\r\n\r\n    applyFriction (box) {\r\n      if (box.xVel > 0) {\r\n        box.xVel -= parseInt(this.FRICTION / this.fps)\r\n        box.xVel = Math.max(0, box.xVel)\r\n      }\r\n      if (box.xVel < 0) {\r\n        box.xVel += parseInt(this.FRICTION / this.fps)\r\n        box.xVel = Math.min(0, box.xVel)\r\n      }\r\n    }\r\n\r\n    applyGravitationalForce (box) {\r\n      box.changeAccel(undefined, this.GVTTN_FORCE)\r\n    }\r\n\r\n    fixIfOutside (box) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n\r\n      if (x < 0) {\r\n        box.box.coor[0] = 0\r\n        // box.changeAccel(0)\r\n        // box.xVel = 0\r\n        box.xVel = -box.xVel * this.wallElesticity\r\n      }\r\n      if (x + width > this.width) {\r\n        box.box.coor[0] = this.width - width\r\n        // box.changeAccel(0)\r\n        // box.xVel = 0\r\n        box.xVel = -box.xVel * this.wallElesticity\r\n      }\r\n      if (y < 0) {\r\n        box.box.coor[1] = 0\r\n        // box.changeAccel(undefined, 0)\r\n        // box.yVel = 0\r\n        box.yVel = -box.yVel * this.wallElesticity\r\n      }\r\n      if (y + height > this.height) {\r\n        box.box.coor[1] = this.height - height\r\n        // box.changeAccel(undefined, 0)\r\n        // box.yVel = 0\r\n        box.yVel = -box.yVel * this.wallElesticity\r\n      }\r\n    }\r\n\r\n    checkIfOnGround (box) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      if (this.ground === 0) {\r\n        if (y === this.ground) return true\r\n      } else if (this.ground === this.height) {\r\n        if (y + height === this.ground) return true\r\n      }\r\n      const yLevel = this.ground === 0 ? y - 1 : y + height\r\n      if (this.yCount[yLevel]) {\r\n        const arr = this.boxCoorBoard[yLevel].slice(x, x + width)\r\n        for (const cell of arr) {\r\n          if (cell) return true\r\n        }\r\n      }\r\n      return false\r\n    }\r\n\r\n    checkIfOverlap (box) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      for (let yIdx = y; yIdx < y + height; yIdx++) {\r\n        if (this.yCount[yIdx]) {\r\n          for (let xIdx = x; xIdx < x + width; xIdx++) {\r\n            if (this.boxCoorBoard[yIdx][xIdx]) {\r\n              return [xIdx, yIdx]\r\n            }\r\n          }\r\n        }\r\n      }\r\n      return false\r\n    }\r\n\r\n    fixBoxOverlap (box, ovlapCoor) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      const [ovlapX, ovlapY] = ovlapCoor\r\n      const xVel = (box.xVel / this.fps) // xVel is the instantenious rate of change in velocity of x coordinate\r\n      const yVel = (box.yVel / this.fps) // yVel is the instantenious rate of change in velocity of y coordinate\r\n      const oldX = x - xVel\r\n      const oldY = y - yVel\r\n      let xDist, yDist\r\n      if (xVel >= 0) {\r\n        xDist = ovlapX - (oldX + width)\r\n      }\r\n      if (xVel < 0) {\r\n        xDist = oldX - ovlapX - 1\r\n      }\r\n      if (yVel >= 0) {\r\n        yDist = ovlapY - (oldY + height)\r\n      }\r\n      if (yVel < 0) {\r\n        yDist = oldY - ovlapY - 1\r\n      }\r\n\r\n      const xCoeff = xVel > 0 ? 1 : -1\r\n      const yCoeff = yVel > 0 ? 1 : -1\r\n      let collisionDirection = ''\r\n\r\n      if (xVel === 0 && yVel !== 0) {\r\n        // if xVel is zero, than since the method is called, we could say that xDist must be negative\r\n        box.box.coor[1] = oldY + yCoeff * (yDist)\r\n        box.changeAccel(undefined, 0)\r\n        box.yVel = 0\r\n        collisionDirection = 'v'\r\n      }\r\n      if (yVel === 0 && xVel !== 0) {\r\n        // if yVel is zero, than since the method is called, we could say that yDist must be negative\r\n        box.box.coor[0] = oldX + xCoeff * (xDist)\r\n        box.changeAccel(0)\r\n        box.xVel = 0\r\n        collisionDirection = 'h'\r\n      }\r\n      if (xVel !== 0 && yVel !== 0) {\r\n        const xTime = (xDist / Math.abs(xVel))\r\n        const yTime = (yDist / Math.abs(yVel))\r\n        if (xTime > yTime) {\r\n          // contact horizontally\r\n          const velRatio = Math.abs(yVel / xVel)\r\n          box.box.coor[0] = oldX + xCoeff * (xDist)\r\n          box.box.coor[1] = oldY + yCoeff * (xDist * velRatio)\r\n          box.changeAccel(0)\r\n          box.xVel = 0\r\n          collisionDirection = 'h'\r\n        }\r\n        if (yTime > xTime) {\r\n          // contact vertically\r\n          const velRatio = Math.abs(xVel / yVel)\r\n          box.box.coor[0] = oldX + xCoeff * (yDist * velRatio)\r\n          box.box.coor[1] = oldY + yCoeff * (yDist)\r\n          box.changeAccel(undefined, 0)\r\n          box.yVel = 0\r\n          collisionDirection = 'v'\r\n        }\r\n      }\r\n      return collisionDirection\r\n    }\r\n\r\n    changeGravitationalForce () {\r\n      this.GVTTN_FORCE = -this.GVTTN_FORCE\r\n      this.ground = this.ground === 0 ? this.height : 0\r\n    }\r\n\r\n    handleBoxCollide (box, ovlapCoor) {\r\n      const [x, y] = box.getCoor()\r\n      const [width, height] = box.getSize()\r\n      const [ovlapX, ovlapY] = ovlapCoor\r\n      const xVel = (box.xVel / this.fps) // xVel is the instantenious rate of change in velocity of x coordinate\r\n      const yVel = (box.yVel / this.fps) // yVel is the instantenious rate of change in velocity of y coordinate\r\n      const oldX = x - xVel\r\n      const oldY = y - yVel\r\n      let xDist, yDist\r\n      if (xVel >= 0) {\r\n        xDist = ovlapX - (oldX + width)\r\n      }\r\n      if (xVel < 0) {\r\n        xDist = oldX - ovlapX - 1\r\n      }\r\n      if (yVel >= 0) {\r\n        yDist = ovlapY - (oldY + height)\r\n      }\r\n      if (yVel < 0) {\r\n        yDist = oldY - ovlapY - 1\r\n      }\r\n\r\n      const xCoeff = xVel > 0 ? 1 : -1\r\n      const yCoeff = yVel > 0 ? 1 : -1\r\n      if (xVel === 0 && yVel !== 0) {\r\n        // if xVel is zero, than since the method is called, we could say that xDist must be negative\r\n        box.box.coor[1] = oldY + yCoeff * (yDist)\r\n        box.changeAccel(undefined, 0)\r\n        box.yVel = 0\r\n      }\r\n      if (yVel === 0 && xVel !== 0) {\r\n        // if yVel is zero, than since the method is called, we could say that yDist must be negative\r\n        box.box.coor[0] = oldX + xCoeff * (xDist)\r\n        box.changeAccel(0)\r\n        box.xVel = 0\r\n      }\r\n\r\n      let collisionDirection = ''\r\n      if (xVel !== 0 && yVel !== 0) {\r\n        const xTime = (xDist / Math.abs(xVel))\r\n        const yTime = (yDist / Math.abs(yVel))\r\n        if (xTime > yTime) {\r\n          // contact horizontally\r\n          const velRatio = Math.abs(yVel / xVel)\r\n          box.box.coor[0] = oldX + xCoeff * (xDist)\r\n          box.box.coor[1] = oldY + yCoeff * (xDist * velRatio)\r\n          box.changeAccel(0)\r\n          box.xVel = 0\r\n          collisionDirection = 'h'\r\n        }\r\n        if (yTime > xTime) {\r\n          // contact vertically\r\n          const velRatio = Math.abs(xVel / yVel)\r\n          box.box.coor[0] = oldX + xCoeff * (yDist * velRatio)\r\n          box.box.coor[1] = oldY + yCoeff * (yDist)\r\n          box.changeAccel(undefined, 0)\r\n          box.yVel = 0\r\n          collisionDirection = 'v'\r\n        }\r\n      }\r\n      return collisionDirection\r\n    }\r\n\r\n    applySpeedByCollision (inputBox1, inputBox2, collisionDirection) {\r\n      if (collisionDirection === 'h') {\r\n        // contact horizontally\r\n\r\n        // first step: determine the relative position of the two box when collide. let box1 be the left box\r\n        // box2 be the right box\r\n        let box1, box2\r\n        if (inputBox1.getCoor()[0] < inputBox2.getCoor()[0]) {\r\n          box1 = inputBox1\r\n          box2 = inputBox2\r\n        } else {\r\n          box1 = inputBox2\r\n          box2 = inputBox1\r\n        }\r\n\r\n        const relativeXVel = Math.abs(box1.xVel - box2.xVel)\r\n\r\n        box1.xVel -= (relativeXVel / 2) * this.boxElesticity\r\n        box2.xVel += (relativeXVel / 2) * this.boxElesticity\r\n      }\r\n      if (collisionDirection === 'v') {\r\n        // contact vertically\r\n\r\n        // first step: determine the relative position of the two box when collide. let box1 be the top box\r\n        // box2 be the bottom box\r\n        let box1, box2\r\n        if (inputBox1.getCoor()[1] < inputBox2.getCoor()[1]) {\r\n          box1 = inputBox1\r\n          box2 = inputBox2\r\n        } else {\r\n          box1 = inputBox2\r\n          box2 = inputBox1\r\n        }\r\n\r\n        const relativeYVel = Math.abs(box1.yVel - box2.yVel)\r\n        box1.yVel -= (relativeYVel / 2) * this.boxElesticity\r\n        box2.yVel += (relativeYVel / 2) * this.boxElesticity\r\n      }\r\n    }\r\n}\r\n\r\nexport {\r\n  BoxPhysics\r\n}\r\n","import { render } from \"./BoxPhysics.vue?vue&type=template&id=4497e150\"\nimport script from \"./BoxPhysics.vue?vue&type=script&lang=js\"\nexport * from \"./BoxPhysics.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div id=\"contentWrapper\">\r\n    <div id=\"content\">\r\n      <div class=\"chessRoomInfo\">\r\n        <div class=\"chessRoomId\">chess room: {{ roomId }}</div>\r\n        <div class=\"numOfPlayer\">player online: {{ numOfPlayer }}</div>\r\n      </div>\r\n      <ChessGameHeader\r\n      v-model=\"chess.currSide\"\r\n      :chess=\"chess\"\r\n      @shiftTextQueue=\"[]\"\r\n      :auth=\"{undo:false, textQueue:false}\"\r\n      />\r\n      <KeyboardComp\r\n      @keyboardBlocksLoaded=\"LoadKeyboardBlocks\"\r\n      :WIDTH=\"8\"\r\n      :HEIGHT=\"8\"\r\n      :KEYBOARD=\"chess.keyboard\"\r\n      :clickBlock=\"clickBlcok\"\r\n      :imgsObj=\"\r\n        {\r\n        whitepawn: '/imgs/chess/whitePawn.png',\r\n        whiterook: '/imgs/chess/whiteRook.png',\r\n        whiteknight: '/imgs/chess/whiteKnight.png',\r\n        whitebishop: '/imgs/chess/whiteBishop.png',\r\n        whitequeen: '/imgs/chess/whiteQueen.png',\r\n        whiteking: '/imgs/chess/whiteKing.png',\r\n        blackpawn: '/imgs/chess/blackPawn.png',\r\n        blackrook: '/imgs/chess/blackRook.png',\r\n        blackknight: '/imgs/chess/blackKnight.png',\r\n        blackbishop: '/imgs/chess/blackBishop.png',\r\n        blackqueen: '/imgs/chess/blackQueen.png',\r\n        blackking: '/imgs/chess/blackKing.png'\r\n      }\r\n      \"\r\n      />\r\n      <ChessBottomBar\r\n      :toggleConfigPannel=\"toggleConfigPannel\"\r\n      :showConfigurePannel=\"showConfigurePannel\"\r\n      :startNewGame=\"startNewGame\"\r\n      />\r\n    </div>\r\n    <GameResultPannel\r\n    v-if=\"showResultPannel\"\r\n    :gameResults=\"gameResults\"\r\n    />\r\n    <ChessGameConfig\r\n    :saveGame=\"saveGame\"\r\n    v-if=\"showConfigurePannel\"\r\n    />\r\n\r\n  </div>\r\n  <MessageWindow\r\n  :messageType=\"messageType\"\r\n  :message=\"message\"\r\n  :showMessage=\"showMessage\"\r\n  />\r\n\r\n  <!-- the v-if is necessary because you should only load and connect with chat room after you get the id of this chess room, otherwise there will be redundant room being created-->\r\n  <ChatBox\r\n  v-if=\"roomId\"\r\n  :oldSocket=\"socket\"\r\n  :oldRoomId=\"roomId\"\r\n  />\r\n</template>\r\n<script>\r\nimport KeyboardComp from '@/components/KeyboardComp.vue'\r\nimport ChessGameHeader from '@/components/ChessGameHeader.vue'\r\nimport GameResultPannel from '@/components/GameResultPannel.vue'\r\nimport chessLayouts from '@/assets/js/chess/chessLayouts.json'\r\nimport { Chess } from '@/assets/js/chess/chessClasses.js'\r\nimport { TimeFormat } from '@/assets/js/generalClasses/timeFormat'\r\nimport axios from 'axios'\r\nimport ChessGameConfig from '@/components/ChessGameConfig.vue'\r\nimport MessageWindow from '@/components/MessageWindow.vue'\r\n\r\nimport io from 'socket.io-client'\r\nimport ChessBottomBar from '@/components/ChessBottomBar.vue'\r\nimport ChatBox from '@/components/ChatBox.vue'\r\n\r\nexport default {\r\n  name: 'ChessGame',\r\n  components: {\r\n    KeyboardComp,\r\n    ChessGameHeader,\r\n    GameResultPannel,\r\n    ChessGameConfig,\r\n    MessageWindow,\r\n    ChessBottomBar,\r\n    ChatBox\r\n  },\r\n  data () {\r\n    return {\r\n      chess: new Chess(),\r\n      KEY_BOARD_BLOCKS: [],\r\n      gameResults: {\r\n        time: 0,\r\n        winner: 'unknown'\r\n      },\r\n      showResultPannel: false,\r\n      showConfigurePannel: false,\r\n\r\n      messageType: '',\r\n      message: '',\r\n      showMessage: false,\r\n\r\n      socket: null,\r\n      userSide: '',\r\n      roomId: null,\r\n\r\n      checkmatePiece: null,\r\n      checkmateCoor: null\r\n    }\r\n  },\r\n  watch: {\r\n    checkmatePiece (newVal, oldVal) {\r\n      // console.log(newVal, oldVal)\r\n      if (newVal === oldVal) return\r\n      /**\r\n       * update the check mate effect according to the new checkmate piece\r\n       */\r\n      if (newVal === null) {\r\n        const [r, c] = this.checkmateCoor\r\n        const div = document.getElementById(r + ',' + c)\r\n        div.classList.remove('warning')\r\n        this.checkmateCoor = null\r\n      } else {\r\n        this.checkmateCoor = this.checkmatePiece.coordinate\r\n        const [r, c] = this.checkmateCoor\r\n        const div = document.getElementById(r + ',' + c)\r\n        div.classList.add('warning')\r\n      }\r\n    }\r\n  },\r\n  async mounted () {\r\n    // console.log('chess game is mounted')\r\n    this.chessLayouts = chessLayouts\r\n    if (this.chess.status === 'pending') {\r\n      this.currLayout = this.chessLayouts[0]\r\n      // add the saved games to the available layouts\r\n      this.chess.initChessGame(this.currLayout)\r\n    }\r\n    // console.log('chess game is inititalized')\r\n\r\n    // the method handles everything that the device need to communicate with the server and oponent\r\n    this.doInteractionWithServer()\r\n  },\r\n  methods: {\r\n    LoadKeyboardBlocks (KEY_BOARD_BLOCKS) {\r\n      this.KEY_BOARD_BLOCKS = KEY_BOARD_BLOCKS\r\n    },\r\n    clickBlcok (coor) {\r\n      const move = [[this.chess.currPiece, coor]]\r\n      // console.log(this.chess.currSide, this.userSide)\r\n      if (this.chess.currSide !== this.userSide) return // check if it is the user's turn to make move\r\n      if (this.chess.status === 'ended') return // chek if the game already ended\r\n      const [row, col] = coor\r\n      const keyboard = this.chess.keyboard\r\n      const currPiece = this.chess.currPiece\r\n      const piece = keyboard[row][col]\r\n      if (currPiece != null && currPiece.side !== this.chess.currSide) {\r\n        // console.log(`the current side is not ${currPiece.side}`)\r\n        this.chess.textQueue.push(`the current side is not ${currPiece.side}`)\r\n        this.removeHighLight(currPiece)\r\n        this.chess.currPiece = null\r\n      } else if (currPiece == null && piece == null) {\r\n        // console.log('void click')\r\n      } else if (currPiece == null && piece != null) {\r\n        // console.log('the player want to select a piece')\r\n        this.addHighLight(piece)\r\n        this.chess.currPiece = piece\r\n      } else if (currPiece != null && piece == null) {\r\n        // console.log('the player want to move the piece')\r\n        // make chess move\r\n        const curCoor = JSON.parse(JSON.stringify(this.chess.currPiece.coordinate)) // take deep copy of the coordinate of current piece before the move\r\n        if (this.chess.makeChessMove(move)) {\r\n          if (this.checkIfPromote(coor)) {\r\n            this.sendPromotionInfo(curCoor, coor) // hold the information if its a promotion, and use a different API to sync the other player\r\n          } else {\r\n            this.socket.emit('makeMove', JSON.stringify([curCoor, coor])) // sync the move to the server, and to the other user\r\n          }\r\n          this.chess.currPiece = null // remove the highlight effect\r\n        }\r\n      } else if (currPiece != null && piece != null) {\r\n        const curCoor = JSON.parse(JSON.stringify(this.chess.currPiece.coordinate)) // take deep copy of the coordinate of current piece before the move\r\n        // console.log('the player want to select a second piece')\r\n        if (currPiece === piece) {\r\n          // console.log('the two selected pieces are the same')\r\n          this.removeHighLight(this.chess.currPiece)\r\n          this.chess.currPiece = null\r\n        } else if (currPiece.side === piece.side) {\r\n          // console.log('the two selected piece are of the same side')\r\n          this.removeHighLight(this.chess.currPiece)\r\n          this.chess.currPiece = piece\r\n          this.addHighLight(this.chess.currPiece)\r\n        } else if (this.chess.makeChessMove(move)) {\r\n          // make a chess move\r\n          if (this.checkIfPromote(coor)) {\r\n            this.sendPromotionInfo(curCoor, coor) // hold the information if its a promotion, and use a different API to sync the other player\r\n          } else {\r\n            this.socket.emit('makeMove', JSON.stringify([curCoor, coor])) // sync the move to the server, and to the other user\r\n          }\r\n          this.chess.currPiece = null // remove the highlight effect\r\n        }\r\n      }\r\n\r\n      setTimeout(() => {\r\n        /*\r\n        update the checkmate peice inorder to assign the checkmate effect (red warning background color)\r\n        */\r\n        this.updateCheckmatePiece()\r\n\r\n        /**\r\n         * the game is ended, generate and display the result\r\n         */\r\n        if (this.chess.status === 'ended') {\r\n          this.showResultPannel = true\r\n          this.generateResults()\r\n        }\r\n      }, 100)\r\n    },\r\n    addHighLight (piece) {\r\n      const [row, col] = piece.coordinate\r\n      const pieceElement = this.KEY_BOARD_BLOCKS[row][col].firstElementChild\r\n      if (pieceElement !== undefined) {\r\n        pieceElement.classList.add('highlighted')\r\n      }\r\n    },\r\n    removeHighLight (piece) {\r\n      const [row, col] = piece.coordinate\r\n      const pieceElement = this.KEY_BOARD_BLOCKS[row][col].firstElementChild\r\n      if (pieceElement) {\r\n        pieceElement.classList.remove('highlighted')\r\n      }\r\n    },\r\n    updateCheckmatePiece () {\r\n      this.checkmatePiece = this.chess.checkmatePiece\r\n    },\r\n    generateResults () {\r\n      this.gameResults.time = TimeFormat.formatBySecond(this.chess.gameTime)\r\n      this.gameResults.winner = this.chess.winner + ' side'\r\n    },\r\n    async saveGame (n, s, d) {\r\n      // console.log('start saving game to local hardisk')\r\n      const l = this.generateLayout()\r\n      await axios.post('http://localhost:3000/saveChessGame', {\r\n        name: n,\r\n        side: s,\r\n        difficulty: d,\r\n        layout: l\r\n      })\r\n        .then(res => {\r\n          console.log('game saved successfully!')\r\n        })\r\n      // console.log('game saved to local hard disk, disyplay the message window')\r\n      this.showMessageWindow('new game saved to local hard disk!', 'regular')\r\n      // console.log('configure pannel will close now')\r\n      this.toggleConfigPannel()\r\n    },\r\n    generateLayout () {\r\n      const layout = []\r\n      const keyboard = this.chess.keyboard\r\n      for (let r = 0; r < keyboard.length; r++) {\r\n        for (let c = 0; c < keyboard[r].length; c++) {\r\n          const piece = keyboard[r][c]\r\n          if (piece != null) {\r\n            const tmp = [\r\n              piece.side,\r\n              piece.coordinate,\r\n              piece.name\r\n            ]\r\n            layout.push(tmp)\r\n          }\r\n        }\r\n      }\r\n      return layout\r\n    },\r\n    toggleConfigPannel () {\r\n      this.showConfigurePannel = !this.showConfigurePannel\r\n    },\r\n    restart () {\r\n      this.showResultPannel = false\r\n      this.chess.initChessGame(this.currLayout)\r\n      this.updateCheckmatePiece()\r\n    },\r\n    endTheGame () {\r\n      this.showResultPannel = true\r\n      this.generateResults()\r\n    },\r\n    startNewGame () {\r\n      console.log('starting new game')\r\n    },\r\n    showMessageWindow (message, type) {\r\n      this.message = message\r\n      this.messageType = type\r\n      this.showMessage = true\r\n      setTimeout(() => {\r\n        this.showMessage = false\r\n      }, 2000)\r\n    },\r\n    doInteractionWithServer () {\r\n      /* use this when deploying, otherwise use the http://192.168.2.15 for development\r\n      // init the local socket for connecting to the server\r\n      this.socket = io('https://my-games-project-e2a91568bb20.herokuapp.com/', {\r\n        withCredentials: true,\r\n        transports: ['websocket'] // Try WebSocket first\r\n      })\r\n      */\r\n      this.socket = io('http://192.168.2.15:3000', {\r\n        withCredentials: true,\r\n        transports: ['websocket'] // Try WebSocket first\r\n      })\r\n\r\n      this.socket.emit('joinChessRoom')\r\n      this.socket.on('chessRoomInfo', data => {\r\n        const { numOfPlayer, roomId } = JSON.parse(data)\r\n        this.numOfPlayer = numOfPlayer\r\n        this.roomId = roomId\r\n      })\r\n      this.socket.on('playerJoined', numOfPlayer => {\r\n        // console.log(`a palyer has joined the room, the room has ${numOfPlayer} players now`)\r\n        this.numOfPlayer = numOfPlayer\r\n      })\r\n      this.socket.on('roomFull', message => {\r\n        // console.log(message)\r\n        this.showMessageWindow(message, 'warning')\r\n      })\r\n      this.socket.on('gameStart', message => {\r\n        // console.log(message)\r\n        this.showMessageWindow(message, 'regular')\r\n      })\r\n      this.socket.on('initGame', gameData => {\r\n        // console.log(gameData)\r\n        this.currLayout = gameData.layout\r\n        this.userSide = gameData.userSide\r\n        this.restart()\r\n      })\r\n      this.socket.on('moveMade', move => {\r\n        move = JSON.parse(move)\r\n        // console.log('this is the move i received: ', move)\r\n        const [row, col] = move[0]\r\n        // console.log(row, col, this.chess.keyboard[row][col])\r\n        const piece = this.chess.keyboard[row][col]\r\n        this.chess.makeChessMove([[piece, move[1]]])\r\n        this.updateCheckmatePiece()\r\n        if (this.chess.status === 'ended') {\r\n          this.endTheGame()\r\n        }\r\n      })\r\n      this.socket.on('promoteHappened', data => { // handle auto promote when the other player promoted.\r\n        const promoteInfo = JSON.parse(data)\r\n        const { row, col } = promoteInfo[0]\r\n        const piece = this.chess.keyboard[row][col]\r\n        const newCoordinate = promoteInfo[1]\r\n        const promoteType = promoteInfo[2]\r\n        this.chess.promotion(piece, newCoordinate, promoteType)\r\n      })\r\n      this.socket.on('playerLeft', data => { // warn that a player has left\r\n        // console.log(message)\r\n        const { message, numOfPlayer } = JSON.parse(data)\r\n        this.showMessageWindow(message, 'warning')\r\n        this.numOfPlayer = numOfPlayer\r\n      })\r\n      this.socket.on('promotionInfo', data => {\r\n        this.synchronizePromoteInfo(JSON.parse(data))\r\n      })\r\n    },\r\n    checkIfPromote (newCoor) {\r\n      const piece = this.chess.keyboard[newCoor[0]][newCoor[1]]\r\n      const result = (\r\n        (piece != null && piece.type === 'pawn') &&\r\n        (\r\n          (piece.side === 'white' && newCoor[0] === this.chess.KEYBOARD_HEIGHT - 1) ||\r\n          (piece.side === 'black' && newCoor[0] === 0)\r\n        )\r\n      )\r\n      if (result) {\r\n        console.log('promotion happened')\r\n      }\r\n      return result\r\n    },\r\n    sendPromotionInfo (oldCoor, newCoor) {\r\n      /*\r\n      here i will send out the updated promotion information to the other player to instruct them of what type of piece to promote in the last move\r\n      to learn the type of promotion, i need to wait for 100ms until the promotion have already happened.\r\n      */\r\n      setTimeout(() => {\r\n        this.socket.emit('syncPromotion', JSON.stringify({\r\n          type: this.chess.keyboard[newCoor[0]][newCoor[1]].type,\r\n          coors: [oldCoor, newCoor]\r\n        }))\r\n      }, 100)\r\n    },\r\n    synchronizePromoteInfo (data) {\r\n      /*\r\n      here i handled the chess logic outside of the chess.js out of necessity, i need the information of promotion from the other player. and do the promotion without\r\n      calling the promotion method inside chess.js. because that method will invoke the prompt, which should not show up to this player.\r\n      */\r\n      const { type, coors } = data\r\n      // console.log(type, coors)\r\n\r\n      const [oldCoor, newCoor] = coors\r\n      const pawn = this.chess.keyboard[oldCoor[0]][oldCoor[1]]\r\n      const moves = [[pawn, newCoor]]\r\n\r\n      /*\r\n      the code fragment below is directly copy from the makeChessMove method from chess.js. it has been trimmed out of the unnecessary codes.\r\n      my job now is to reconstruct the pawn's move and prevent the prompt from apearing.\r\n      */\r\n      this.chess.textQueue.length = 0 // clear the text queue\r\n\r\n      const moveLen = moves.length\r\n      this.chess.moveRecord.push(moveLen)\r\n      const [piece, coordinate] = moves[0]\r\n      this.chess.loadMove(piece, coordinate)\r\n\r\n      /*\r\n      now, the move is loaded, I will replace the pawn with the actual promotion type intended.\r\n      the code is copied from promotion method in chess.js. it is been adjusted to optimize efficiency\r\n      */\r\n      const side = piece.side\r\n      this.chess.removeFromKeyboard(piece)\r\n      this.chess.addPiece(side, coordinate, type)\r\n      this.chess.varifyMoveByCheckmate()\r\n\r\n      this.chess.changeSide() // change the side\r\n    }\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <div class=\"barWrapper\">\r\n    <button id=\"openConfigureGamePannel\" class=\"button\" :onclick=\"toggleConfigPannel\">\r\n      {{ showConfigurePannel ? 'close configrue game pannel' : 'open configure game pannel'  }}\r\n    </button>\r\n    <button id=\"newGame\" class=\"button\" :onclick=\"startNewGame\">\r\n      new game\r\n    </button>\r\n  </div>\r\n</template>\r\n<style>\r\n  .barWrapper{\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-items: center;\r\n    padding: 0.5rem;\r\n    height: 4rem;\r\n    box-sizing: border-box;\r\n  }\r\n</style>\r\n<script>\r\nexport default {\r\n  name: 'ChessBottomBar',\r\n  props: ['toggleConfigPannel', 'showConfigurePannel', 'startNewGame']\r\n}\r\n</script>\r\n","import { render } from \"./ChessBottomBar.vue?vue&type=template&id=a9a69c78\"\nimport script from \"./ChessBottomBar.vue?vue&type=script&lang=js\"\nexport * from \"./ChessBottomBar.vue?vue&type=script&lang=js\"\n\nimport \"./ChessBottomBar.vue?vue&type=style&index=0&id=a9a69c78&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"chatBoxWrapper\">\r\n    <button class=\"button\" id=\"toggleChatBox\" @click=\"toggleChatBox\">{{ showChatBox ? 'close' : 'open chat' }}</button>\r\n    <div class=\"contentWrapper\" v-show=\"showChatBox\">\r\n      <div id=\"roomInfo\">\r\n        <div id=\"roomId\">room id: {{ roomId }}</div> |\r\n        <div id=\"numOfUser\">user online: {{ numOfUser }}</div>\r\n      </div>\r\n      <div id=\"messagesWrapper\">\r\n      </div>\r\n      <div class=\"buttomBar\">\r\n        <input placeholder=\"chat here\" v-model=\"message\" @keypress.enter=\"postMessage\"/>\r\n        <button id=\"postMessaghe\" @click=\"postMessage\">send</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport io from 'socket.io-client'\r\nimport '@/assets/styles/chatBox.css' // import the scoped css file. it will not contiminate other file's style\r\n\r\nexport default {\r\n  name: 'ChatBox',\r\n  data () {\r\n    return {\r\n      texts: [],\r\n      socket: null,\r\n      message: '',\r\n      messagesWrapper: null,\r\n      showChatBox: false,\r\n      roomId: 'not room',\r\n      numOfUser: 0\r\n    }\r\n  },\r\n  props: {\r\n    oldSocket: {\r\n      require: false\r\n    },\r\n    oldRoomId: {\r\n      required: false\r\n    }\r\n  },\r\n  watch: {\r\n    oldRoomId (oldVal, newVal) {\r\n      this.roomId = newVal\r\n    }\r\n  },\r\n  mounted () {\r\n    this.messagesWrapper = document.getElementById('messagesWrapper') // init the div that contains the messages\r\n    if (this.oldSocket === undefined) {\r\n      this.socket = io('http://192.168.2.15:3000') // connect to the server, and join room if not already\r\n    } else {\r\n      this.socket = this.oldSocket\r\n    }\r\n    if (this.oldRoomId !== undefined) {\r\n      this.roomId = this.oldRoomId\r\n    }\r\n    this.doInteractionWithServer()\r\n  },\r\n  methods: {\r\n    doInteractionWithServer () {\r\n      this.socket.emit('joinChatRoom', this.roomId)\r\n      this.socket.on('chatRoomInfo', data => { // init the number of user using the chatbox\r\n        const { numOfUser, roomId } = JSON.parse(data)\r\n        // console.log('you have joined a room!', numOfUser)\r\n        this.roomId = roomId\r\n        this.numOfUser = numOfUser\r\n      })\r\n      this.socket.on('chatUserJoined', data => {\r\n        const { userId, numOfUser } = JSON.parse(data)\r\n        // console.log(`user ${userId} has joined the room`)\r\n        this.numOfUser = numOfUser\r\n        const message = `user ${userId} has joined the room`\r\n        this.addMessage(message, 'headsupMessage')\r\n      })\r\n      this.socket.on('chatUserLeft', data => { // update the number of user information\r\n        const { userId, numOfUser } = JSON.parse(data)\r\n        // console.log(`user ${userId} has left the room`)\r\n        this.numOfUser = numOfUser\r\n        const message = `user ${userId} has left the room`\r\n        this.addMessage(message, 'warningMessage')\r\n      })\r\n      this.socket.on('newMessage', data => { // show the new message inside the chat box\r\n        const { user, message } = JSON.parse(data)\r\n        const m = user + ': ' + message\r\n        const type = 'regularMessage'\r\n        this.addMessage(m, type)\r\n      })\r\n    },\r\n    postMessage () {\r\n      if (this.message !== '') {\r\n        this.socket.emit('postMessage', this.message)\r\n        this.message = ''\r\n      }\r\n    },\r\n    toggleChatBox () {\r\n      this.showChatBox = !this.showChatBox\r\n    },\r\n    addMessage (message, type) {\r\n      const messageDiv = document.createElement('div')\r\n      messageDiv.classList.add('messageDiv')\r\n      messageDiv.classList.add(type)\r\n      messageDiv.innerHTML = message\r\n      this.messagesWrapper.appendChild(messageDiv)\r\n      this.scrollToBottom()\r\n    },\r\n    scrollToBottom () {\r\n      this.messagesWrapper.scrollTop = this.messagesWrapper.scrollHeight\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./ChatBox.vue?vue&type=template&id=cdb77de4\"\nimport script from \"./ChatBox.vue?vue&type=script&lang=js\"\nexport * from \"./ChatBox.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./MultiplayerChess.vue?vue&type=template&id=60a47526\"\nimport script from \"./MultiplayerChess.vue?vue&type=script&lang=js\"\nexport * from \"./MultiplayerChess.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\nimport HomePage from '../views/HomePage.vue'\nimport ChessGame from '../views/ChessGame.vue'\nimport TypeingGame from '@/views/TypeingGame.vue'\nimport MineSweep from '@/views/MineSweep.vue'\nimport BoxPhysics from '@/views/BoxPhysics.vue'\nimport MultiplayerChess from '@/views/MultiplayerChess.vue'\nimport ChatBox from '@/components/ChatBox.vue'\nconst routes = [\n  {\n    path: '/',\n    name: 'HomePage',\n    component: HomePage\n  },\n  {\n    path: '/ChessGame',\n    name: 'ChessGame',\n    component: ChessGame\n  },\n  {\n    path: '/TypingGame',\n    name: 'TypingGame',\n    component: TypeingGame\n  },\n  {\n    path: '/MineSweep',\n    name: 'MineSweep',\n    component: MineSweep\n  },\n  {\n    path: '/BoxPhysics',\n    name: 'BoxPhysics',\n    component: BoxPhysics\n  },\n  {\n    path: '/MultiplayerChess',\n    name: 'MultiplayerChess',\n    component: MultiplayerChess\n  },\n  {\n    path: '/ChatBox',\n    name: 'ChatBox',\n    component: ChatBox\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n})\n\nexport default router\n","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\n\r\nimport './assets/styles/main.css'\r\nconst app = createApp(App)\r\napp.use(router)\r\napp.mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkvue_project\"] = self[\"webpackChunkvue_project\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(83839); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_Fragment","_createElementVNode","_hoisted_1","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_component_router_view","Component","_createBlock","_KeepAlive","_resolveDynamicComponent","script","__exports__","render","class","_renderList","$data","games","game","idx","_component_GameDisplayView","key","title","imageSrc","$options","startGame","_hoisted_2","_toDisplayString","$props","_hoisted_3","src","imagePath","alt","_hoisted_4","_hoisted_5","onClick","$event","clickFunction","name","props","data","arrLen","currIdx","updateImgInterval","created","this","Array","isArray","length","setInterval","beforeUnmount","clearInterval","components","GameDisplayView","methods","path","$router","push","_component_LayoutInfoBar","currLayout","chessLayouts","optLayout","deleteSavedGame","_component_ChessGameHeader","modelValue","chess","currSide","onShiftTextQueue","shiftTextQueue","onUndoHistory","updateCheckmatePiece","auth","undo","textQueue","_component_KeyboardComp","onKeyboardBlocksLoaded","LoadKeyboardBlocks","WIDTH","HEIGHT","KEYBOARD","keyboard","clickBlock","clickBlcok","onMouseDown","mouseDown","onMouseUp","mouseUp","imgsObj","_component_ButtomBar","restart","exit","onclick","toggleConfigPannel","showConfigurePannel","showResultPannel","_component_GameResultPannel","gameResults","_createCommentVNode","_component_ChessGameConfig","saveGame","_component_MessageWindow","messageType","message","showMessage","row","rowIdx","block","colIdx","_normalizeClass","style","_normalizeStyle","BLOCK_WIDTH","BLOCK_HEIGHT","onMousedown","_ctx","$emit","onMouseup","onDragstart","event","preventDefault","_component_PieceComp","type","side","imgSrc","String","fromCharCode","PieceComp","KEY_BOARD_BLOCKS","currPiece","mounted","nextTick","initKeyboardBlocks","ID","BLOCK","document","getElementById","args","undoHistory","content","computed","get","textInterval","removeText","value","difficulty","showLayoutOptions","layout","deleteLayout","Chess","constructor","_defineProperty","initKeyboard","i","KEYBOARD_HEIGHT","KEYBOARD_WIDTH","fill","initChessGame","opening","whiteKing","blackKing","history","moveRecord","checkmatePiece","status","gameTime","winner","timeInterval","forEach","piece","addPiece","coordinate","Piece","generatePiece","removeFromKeyboard","addToKeyboard","col","makeChessMove","moves","result","checkMove","slice","addText","moveLen","loadMove","varifyMoveByCheckmate","changeSide","newCoordinate","addHistory","updateIfMoved","moved","promotion","target","prompt","indexOf","setTimeout","castling","king","rook","kRow","kCol","rRow","rCol","kingStep","Math","abs","rookStep","compositeMove","checkmateChecker","pRow","pCol","rowDiff","colDiff","rowStep","colStep","searchByStep","includes","checkIfInDanger","searchStraightPath","start","end","sRow","sCol","eRow","eCol","searchDiagnalPath","steps","checkMoveWithoutInvokePromotion","nRow","nCol","tempPiece","tempCoor","tempPiece2","tempCoor2","tempMoved","currCheckmatePiece","count","pop","piece2","coordinate2","row2","col2","oppisiteKing","ifGameOverIfCheckmate","endGame","danger","helper","surrounding","checkIfSideCanMoveToCoor","console","log","text","Pawn","Knight","Bishop","Rook","King","Queen","super","oRow","oCol","parseInt","TimeFormat","formatBySecond","time","minute","second","TIME","for","required","gameName","maxlength","save","messageWindow","Boolean","watch","newVal","oldVal","toggleVisibility","classList","remove","add","MessageWindow","now","Date","toLocaleTimeString","year","month","day","hour","axios","params","then","res","KeyboardComp","ChessGameHeader","ButtomBar","GameResultPannel","LayoutInfoBar","ChessGameConfig","checkmateCoor","coorToMove","r","c","div","getSavedGames","coor","removeHighLight","addHighLight","generateResults","pieceElement","firstElementChild","undefined","showL","shift","n","s","d","l","generateLayout","post","reverse","concat","catch","err","tmp","delete","splice","onKeydown","keyPressed","tabindex","refChars","char","inputChars","paragraphs","initTypingGame","sentence","interval","correctChar","wrongChar","accuracy","floor","random","split","len","toFixed","difficulties","psbiliy","_withModifiers","changeDifficulty","possibility","sizes","dmsion","changeSize","dimension","height","width","_component_MineSweepBoard","BOARD","mineSweep","MineSweep","initMineSweep","mineNum","flagNum","openedCellNum","gameTimeInterval","initBoards","initMineSweepWithCoor","generateMines","updateMineNumber","generateCellValues","cell","generateMine","ifMine","generateCellValue","surroundingValue","openCell","flagVal","openVal","spreadVoidCell","checkIfGameOver","flagCell","visited","Map","set","queue","spreadCell","flagCount","unopenCoors","step","unopenCoor","numOfCell","changeBoardSize","onContextmenu","MineSweepBoard","hard","medium","easy","small","big","doubleClickTimeOut","doubleClickCoor","discovered","typeOfClick","JSON","stringify","clearTimeout","boxPhysics","onKeyup","keyLeft","box","size","boxes","addBox","changeGravitationalForce","removeBox","Box","max","x","y","MovableBox","fps","changeAccel","xAccel","yAccel","updateVel","xVel","yVel","maxVel","updateCoor","getCoor","getSize","BoxPhysics","ground","initBoxCoorBoard","yIdx","boxCoorBoard","yCount","xCount","setBoxCoor","vertices","vertex","xIdx","coorMap","removeBoxCoor","createUpdateInterval","updateInterval","update","clearUpdateInterval","checkIfOverlap","addMainBox","applyHorizontalAccel","direction","stopHorizontalAccel","jump","checkIfOnGround","updateBoxes","sX","sY","fixIfOutside","eX","eY","overlapCoor","box2","speeds","accel","collisionDirection","fixBoxOverlap","applySpeedByCollision","applyFriction","applyGravitationalForce","w","h","exception","FRICTION","min","GVTTN_FORCE","wallElesticity","yLevel","arr","ovlapCoor","ovlapX","ovlapY","oldX","oldY","xDist","yDist","xCoeff","yCoeff","xTime","yTime","velRatio","handleBoxCollide","inputBox1","inputBox2","box1","relativeXVel","boxElesticity","relativeYVel","keyArr","prevKey","updateVisual","roomId","numOfPlayer","_component_ChessBottomBar","startNewGame","_component_ChatBox","oldSocket","socket","oldRoomId","toggleChatBox","showChatBox","numOfUser","_hoisted_6","placeholder","onKeypress","_withKeys","postMessage","texts","messagesWrapper","require","io","doInteractionWithServer","emit","on","parse","userId","addMessage","user","m","messageDiv","createElement","innerHTML","appendChild","scrollToBottom","scrollTop","scrollHeight","ChessBottomBar","ChatBox","userSide","move","curCoor","checkIfPromote","sendPromotionInfo","showMessageWindow","endTheGame","withCredentials","transports","gameData","promoteInfo","promoteType","synchronizePromoteInfo","newCoor","oldCoor","coors","pawn","routes","component","HomePage","ChessGame","TypeingGame","MultiplayerChess","router","createRouter","createWebHistory","process","app","createApp","App","use","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","Object","keys","every","getter","__esModule","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}